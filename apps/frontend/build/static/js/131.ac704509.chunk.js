"use strict";(self.webpackChunkcln_application_frontend=self.webpackChunkcln_application_frontend||[]).push([[131],{791:(e,t,s)=>{s.d(t,{A:()=>r});s(2176);var a=s(7280),n=s(9786),o=s(6652),i=s(812);const r=e=>(0,i.jsxs)(a.P.div,{className:"message invalid",variants:n.YO,initial:"hidden",animate:"visible",exit:"hidden",custom:e.custom||0,children:[(0,i.jsx)(o.$,{svgClassName:"information-svg",className:"fill-danger"}),e.message]})},1337:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(6620),n=s(2176),o=s(9786),i=s(5168),r=s(9666),l=s(2820),d=s(307);let c,h={isLoading:!0,isAuthenticated:!1,isValidPassword:!1},m={isLoading:!0,uiConfig:{unit:o.WU.SATS,fiatUnit:"USD",appMode:o.Jr.DARK},serverConfig:{singleSignOn:!1,lightningNodeType:"CLN"}};const u=a.A.create({baseURL:o.JR+o.mG,timeout:5*o.a0,withCredentials:!0}),p=()=>{let e=(0,n.useContext)(r.B);const t=(0,n.useCallback)((t=>u.get("/shared/rate/"+t).then((s=>{const a=o.$P.find((e=>e.currency===t));e.setFiatConfig({...s.data,isLoading:!1,symbol:a?a.symbol:l.Vpi,error:null})})).catch((t=>{var s;e.setFiatConfig({isLoading:!1,symbol:l.Vpi,rate:1,venue:"",error:(null===(s=t.response)||void 0===s?void 0:s.data)||""})}))),[e]),s=(0,n.useCallback)((function(e){for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];try{let s;s=a.length>0?a.map((e=>u(e.url,{method:e.method,data:e.body}))):[u(a[0].url,{method:a[0].method,data:a[0].body})],Promise.all(s).then((s=>{i.A.info(s);for(let e=0;e<a.length;e++)"/shared/config"===a[e].url&&(s[0].data={...s[0].data,isLoading:!1,error:null},m=s[0].data,t(s[0].data.uiConfig.fiatUnit));const n=s.map((e=>({...e.data,isLoading:!1,error:null})));1===n.length?e({...s[0].data,isLoading:!1,error:null}):n.length>1&&e(s.map((e=>({...e.data}))))})).catch((t=>{var s;i.A.error(t),e({isLoading:!1,error:(null===t||void 0===t||null===(s=t.response)||void 0===s?void 0:s.data)||t})}))}catch(r){var o;i.A.error(r),e({isLoading:!1,error:(null===r||void 0===r||null===(o=r.response)||void 0===o?void 0:o.data)||r})}}),[t]),a=(0,n.useCallback)((()=>{s(e.setWalletConnect,{method:"get",url:"/shared/connectwallet"})}),[e,s]),p=(0,n.useCallback)((t=>{s(e.setListChannels,{method:"post",url:"/cln/call",body:{method:(0,d.fl)(t.version||"","23.02")?"listpeerchannels":"listpeers",params:{}}},{method:"post",url:"/cln/call",body:{method:"listnodes",params:{}}}),e.setNodeInfo(t)}),[e,s]),g=(0,n.useCallback)((()=>{s(p,{method:"post",url:"/cln/call",body:{method:"getinfo",params:{}}}),s(e.setListPeers,{method:"post",url:"/cln/call",body:{method:"listpeers",params:{}}}),s(e.setListInvoices,{method:"post",url:"/cln/call",body:{method:"listinvoices",params:{}}}),s(e.setListPayments,{method:"post",url:"/cln/call",body:{method:"listsendpays",params:{}}}),s(e.setListFunds,{method:"post",url:"/cln/call",body:{method:"listfunds",params:{}}}),s(e.setListOffers,{method:"post",url:"/cln/call",body:{method:"listoffers",params:{}}}),s(e.setListBitcoinTransactions,{method:"post",url:"/cln/call",body:{method:"bkpr-listaccountevents",params:{}}}),s(e.setFeeRate,{method:"post",url:"/cln/call",body:{method:"feerates",params:{style:"perkb"}}}),a()}),[e,s,p,a]),f=(0,n.useCallback)((function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{return u(s,{method:t,data:a,timeout:5e4}).then((t=>(e&&g(),t))).catch((e=>{throw e}))}catch(n){throw n}}),[g]),w=()=>f(!1,"post","/shared/saveinvoicerune"),C=()=>f(!0,"get","/shared/connectwallet/");return{setCSRFToken:()=>new Promise(((e,t)=>{try{return i.A.info("Base URL: "+o.JR+o.mG),u.get("/shared/csrf").then((t=>{u.defaults.headers.post={"XSRF-TOKEN":t.data.csrfToken},e(!0)})).catch((e=>{i.A.error(e),t(e)}))}catch(s){i.A.error(s),t(s)}})),getAuthStatus:()=>u.post("/auth/isauthenticated",{returnResponse:!0}).then((t=>(i.A.info(t),t.data={...t.data,isLoading:!1,error:null},e.setAuthStatus(t.data),h=t.data,t.data))).catch((e=>{throw i.A.error(e),e})),getAppConfigurations:(0,n.useCallback)((()=>{s(e.setConfig,{method:"get",url:"/shared/config"})}),[e,s]),initiateDataLoading:()=>{const e=()=>{var t;h.isLoading||m.isLoading?setTimeout(e,100):"GREENLIGHT"===(null===(t=m.serverConfig)||void 0===t?void 0:t.lightningNodeType)?console.warn("LOAD GREENLIGHT DATA"):(a(),g(),c&&window.clearInterval(c),c=window.setInterval((()=>{var e;i.A.info("Current Auth Status: ",JSON.stringify(h)),null!==(e=h)&&void 0!==e&&e.isAuthenticated&&g()}),o.a0))};e()},getConnectWallet:a,fetchData:g,getFiatRate:t,updateConfig:s=>{u.post("/shared/config",s).then((a=>{e.appConfig.uiConfig.fiatUnit!==s.uiConfig.fiatUnit&&t(s.uiConfig.fiatUnit),e.setConfig(s)})).catch((e=>(i.A.error(e),e)))},openChannel:(e,t,s,a)=>f(!0,"post","/cln/call",{method:"fundchannel",params:{id:e,amount:t,feerate:s,announce:a}}),closeChannel:e=>f(!0,"post","/cln/call",{method:"close",params:{id:e}}),btcWithdraw:(e,t,s)=>f(!0,"post","/cln/call",{method:"withdraw",params:{destination:e,satoshi:t,feerate:s}}),btcDeposit:()=>f(!1,"post","/cln/call",{method:"newaddr",params:{addresstype:"bech32"}}),clnSendPayment:(e,t,s)=>{if(e===o.dm.KEYSEND)return f(!0,"post","/cln/call",{method:"keysend",params:{destination:t,amount_msat:s}});return f(!0,"post","/cln/call",{method:"pay",params:s?{bolt11:t,amount_msat:s}:{bolt11:t}})},clnReceiveInvoice:(e,t,s,a)=>e===o.dm.OFFER?f(!1,"post","/cln/call",{method:"offer",params:{amount:t,description:s}}):f(!1,"post","/cln/call",{method:"invoice",params:{amount_msat:t,label:a,description:s}}),decodeInvoice:e=>f(!1,"post","/cln/call",{method:"decode",params:{string:e}}),fetchInvoice:(e,t)=>f(!1,"post","/cln/call",{method:"fetchinvoice",params:{offer:e,amount_msat:t*o.A5}}),createInvoiceRune:()=>f(!1,"post","/cln/call",{method:"createrune",params:{restrictions:[["method=invoice"],["method=listinvoices"]]}}).then((()=>w())).then((()=>C())).catch((e=>{throw i.A.error("Error creating or saving invoice rune: ",e.message||JSON.stringify(e)),e})),userLogin:t=>u.post("/auth/login",{password:t}).then((t=>(i.A.info(t),t.data={...t.data,isLoading:!1,error:null},e.setAuthStatus(t.data),h=t.data,t.data))).catch((e=>{throw i.A.error(e),e})),resetUserPassword:(t,s,a)=>u.post("/auth/reset",{isValid:t,currPassword:s,newPassword:a}).then((t=>(i.A.info(t),t.data={...t.data,isLoading:!1,error:null},e.setAuthStatus(t.data),h=t.data,t.data))).catch((e=>{throw i.A.error(e),e})),userLogout:()=>u.get("/auth/logout").then((t=>{i.A.info(t),t.data={...t.data,isLoading:!1,error:null},e.clearStore(),h=JSON.parse(JSON.stringify(t.data)),e.setShowModals({...e.showModals,loginModal:!0,logoutModal:!1})})).catch((e=>{throw i.A.error(e),e}))}}},3117:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(2176),n=s(3647),o=s(2820),i=s(7280),r=s(7036),l=s(4173),d=s(9786),c=s(9666),h=s(4806),m=s(5451),u=s(812);const p=e=>{const t=(0,a.useContext)(c.B),[s,p]=(0,a.useState)("0"),g=e.showOnComponent?!!e.show:!!t.showToast.show,f=e.type||t.showToast.type||"",w=e.showDelay||t.showToast.delay||3e3,C=e.bg||t.showToast.bg||"primary",v="toast-container w-100 d-flex justify-content-center "+(e.containerClassName||t.showToast.containerClassName||"top-0"),x="d-flex align-items-start justify-content-between "+(e.className||t.showToast.className||""),N=e.message||t.showToast.message||"";(0,a.useEffect)((()=>{e.showOnComponent||p(g?"3rem":"0")}),[e.showOnComponent,g]);const j=()=>{e.showOnComponent||t.setShowToast({...t.showToast,show:!1})},y=s=>{e.showOnComponent?e.onConfirmResponse(s):t.setShowToast({...t.showToast,show:!1,onConfirmResponse:s})};return(0,u.jsx)(u.Fragment,{children:"CONFIRM"===f?g?(0,u.jsx)(i.P.div,{variants:d.YO,initial:"hidden",animate:"visible",exit:"hidden",custom:e.custom||0,className:v,children:(0,u.jsx)(r.A,{show:!0,onClose:j,delay:w||3e3,"data-bg":C,className:x,children:(0,u.jsx)(r.A.Body,{className:"p-0 w-100 d-flex align-items-start justify-content-start",children:(0,u.jsxs)(l.A,{className:"d-flex align-items-stretch justify-content-between",children:[(0,u.jsx)(l.A,{xs:2,className:"message-type-box d-flex align-items-center justify-content-center",children:(0,u.jsx)(m.i,{})}),(0,u.jsx)(l.A,{xs:10,className:"p-2",children:(0,u.jsxs)(l.A,{className:"d-flex align-items-center justify-content-between",children:[(0,u.jsx)(l.A,{xs:6,children:N||"Default Message!"}),(0,u.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>y(!0),children:"Yes"}),(0,u.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>y(!1),children:"No"})]})})]})})})}):(0,u.jsx)(u.Fragment,{}):(0,u.jsx)(i.P.div,{animate:{y:s},transition:d.A9,className:v,children:(0,u.jsx)(r.A,{show:g,onClose:j,delay:w||3e3,autohide:!0,"data-bg":C,className:x,children:(0,u.jsx)(r.A.Body,{className:"p-0 w-100 d-flex align-items-stretch justify-content-start",children:(0,u.jsxs)(l.A,{className:"d-flex align-items-stretch justify-content-between",children:[(0,u.jsx)(l.A,{xs:2,className:"message-type-box d-flex align-items-center justify-content-center",children:(0,u.jsx)(n.g,{className:"svg-white fa-xl",icon:"success"===C?o.e68:"danger"===C?o.JAe:o.tUE})}),(0,u.jsx)(l.A,{xs:10,className:"p-2",children:(0,u.jsxs)(l.A,{className:"d-flex align-items-center justify-content-between",children:[N||"Default Message!",(0,u.jsx)("span",{className:"btn-toast-close",onClick:j,children:(0,u.jsx)(h.P,{})})]})})]})})})})})}},4550:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(2176),n=s(9786);const o=e=>e<576?n.Rp.XS:e<768?n.Rp.SM:e<992?n.Rp.MD:e<1200?n.Rp.LG:e<1440?n.Rp.XL:n.Rp.XXL,i=()=>{const[e,t]=(0,a.useState)((()=>o(window.innerWidth)));return(0,a.useEffect)((()=>{const e=()=>setTimeout((()=>t(o(window.innerWidth))),200);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}},4806:(e,t,s)=>{s.d(t,{P:()=>n});s(2176);var a=s(812);const n=e=>(0,a.jsxs)("svg",{className:e.className,width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M1 16L16 1",strokeWidth:"2",strokeLinecap:"round",className:"stroke-light"}),(0,a.jsx)("path",{d:"M16 16L1 1",strokeWidth:"2",strokeLinecap:"round",className:"stroke-light"})]})},5451:(e,t,s)=>{s.d(t,{i:()=>n});s(2176);var a=s(812);const n=e=>(0,a.jsxs)("svg",{className:e.className,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{className:"stroke-white",d:"M16 28C22.6274 28 28 22.6274 28 16C28 9.37258 22.6274 4 16 4C9.37258 4 4 9.37258 4 16C4 22.6274 9.37258 28 16 28Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{className:"fill-white",d:"M16 24C16.8284 24 17.5 23.3284 17.5 22.5C17.5 21.6716 16.8284 21 16 21C15.1716 21 14.5 21.6716 14.5 22.5C14.5 23.3284 15.1716 24 16 24Z"}),(0,a.jsx)("path",{className:"stroke-white",d:"M16 18V17C16.6922 17 17.3689 16.7947 17.9445 16.4101C18.5201 16.0256 18.9687 15.4789 19.2336 14.8394C19.4985 14.1999 19.5678 13.4961 19.4327 12.8172C19.2977 12.1383 18.9644 11.5146 18.4749 11.0251C17.9854 10.5356 17.3617 10.2023 16.6828 10.0673C16.0039 9.9322 15.3001 10.0015 14.6606 10.2664C14.0211 10.5313 13.4744 10.9799 13.0899 11.5555C12.7053 12.1311 12.5 12.8078 12.5 13.5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},6205:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(2176),n=s(9786);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.NZ.ORIGINAL;const[s,o]=(0,a.useState)(""),[i,r]=(0,a.useState)(!1),l=e(s);return{value:s,isValid:l,hasError:!l&&i,valueChangeHandler:e=>{e.target.value=(e=>{switch(t){case"lowercase":return e.toLowerCase();case"uppercase":return e.toUpperCase();default:return e}})(e.target.value),o(e.target.value)},inputBlurHandler:e=>{r(!0)},reset:()=>{o(""),r(!1)}}}},6652:(e,t,s)=>{s.d(t,{$:()=>n});s(2176);var a=s(812);const n=e=>(0,a.jsxs)("svg",{className:e.svgClassName,width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.125 1.25C4.32804 1.25 1.25 4.32804 1.25 8.125C1.25 11.922 4.32804 15 8.125 15C11.922 15 15 11.922 15 8.125C15 4.32804 11.922 1.25 8.125 1.25ZM0 8.125C0 3.63769 3.63769 0 8.125 0C12.6123 0 16.25 3.63769 16.25 8.125C16.25 12.6123 12.6123 16.25 8.125 16.25C3.63769 16.25 0 12.6123 0 8.125Z",className:e.className}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.875 7.5C6.875 7.15482 7.15482 6.875 7.5 6.875H8.125C8.47018 6.875 8.75 7.15482 8.75 7.5V11.25C9.09518 11.25 9.375 11.5298 9.375 11.875C9.375 12.2202 9.09518 12.5 8.75 12.5H8.125C7.77982 12.5 7.5 12.2202 7.5 11.875V8.125C7.15482 8.125 6.875 7.84518 6.875 7.5Z",className:e.className}),(0,a.jsx)("path",{d:"M7.96875 5.625C8.48652 5.625 8.90625 5.20527 8.90625 4.6875C8.90625 4.16973 8.48652 3.75 7.96875 3.75C7.45098 3.75 7.03125 4.16973 7.03125 4.6875C7.03125 5.20527 7.45098 5.625 7.96875 5.625Z",className:e.className})]})},7159:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(2176),n=s(7280),o=s(4173),i=s(8286),r=s(9786),l=s(307),d=s(6652),c=s(9735),h=s(9666),m=s(5168),u=s(812);const p=e=>{const t=(0,a.useContext)(h.B);return e.responseStatus!==r.JT.NONE?(0,u.jsxs)(n.P.div,{className:"w-100 d-flex align-items-start justify-content-center alert alert-"+(e.responseStatus===r.JT.ERROR?"danger":e.responseStatus===r.JT.PENDING?"warning":e.responseStatus===r.JT.SUCCESS?"success":""),initial:"hidden",animate:"visible",exit:"hidden",variants:r.tw,transition:{ease:"easeOut",duration:1},children:[(0,u.jsx)(o.A,{xs:1,className:"d-flex align-items-start justify-content-start mt-1",children:e.responseStatus===r.JT.PENDING?(0,u.jsx)(i.A,{className:"me-2",variant:"primary",size:"sm","data-testid":"status-pending-spinner"}):(0,u.jsx)(d.$,{svgClassName:"information-svg",className:e.responseStatus===r.JT.ERROR?"fill-danger":"fill-success"})}),(0,u.jsx)(o.A,{xs:10,className:"px-1 text-status",children:(0,l.nx)(e.responseMessage)}),e.responseStatus!==r.JT.PENDING?(0,u.jsx)(o.A,{xs:1,onClick:s=>{(0,l.eM)(e.responseMessage).then((e=>{t.setShowToast({show:!0,message:"Response Copied Successfully!",bg:"success"})})).catch((e=>{m.A.error(e)}))},className:"d-flex align-items-start justify-content-end btn-sm-svg btn-svg-copy mt-1",id:"",children:(0,u.jsx)(c.G,{id:"",showTooltip:!0})}):(0,u.jsx)(u.Fragment,{})]}):(0,u.jsx)(u.Fragment,{})}},9082:(e,t,s)=>{s.d(t,{P:()=>n});s(2176);var a=s(812);const n=e=>(0,a.jsx)("svg",{className:e.className,width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M0.5 5.83333L12.3083 5.83333L9.325 8.825L10.5 10L15.5 5L10.5 -4.37114e-07L9.325 1.175L12.3083 4.16667L0.500001 4.16667L0.5 5.83333Z",className:"fill-strong-contrast"})})},9735:(e,t,s)=>{s.d(t,{G:()=>i});s(2176);var a=s(2189),n=s(1416),o=s(812);const i=e=>(0,o.jsx)(a.A,{placement:"auto",delay:{show:250,hide:250},overlay:e.showTooltip?(0,o.jsx)(n.A,{children:"Copy "+(e.id||"")}):(0,o.jsx)(o.Fragment,{}),children:(0,o.jsxs)("svg",{id:e.id,className:e.className,width:"22",height:"20",viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{id:e.id,className:"stroke-light",d:"M15.3164 6.4375H17.3789C17.7931 6.4375 18.1289 6.77329 18.1289 7.1875V17.6875C18.1289 18.1017 17.7931 18.4375 17.3789 18.4375H6.87891C6.46469 18.4375 6.12891 18.1017 6.12891 17.6875V15.625",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{id:e.id,className:"stroke-light",d:"M1.25391 2.3125C1.25391 1.89828 1.5897 1.5625 2.00391 1.5625H12.5039C12.9181 1.5625 13.2539 1.89829 13.2539 2.3125V12.8125C13.2539 13.2267 12.9181 13.5625 12.5039 13.5625H2.00391C1.58969 13.5625 1.25391 13.2267 1.25391 12.8125V2.3125Z",strokeWidth:"1.3",strokeLinejoin:"round"})]})})}}]);
//# sourceMappingURL=131.ac704509.chunk.js.map