(self.webpackChunkcln_application_frontend=self.webpackChunkcln_application_frontend||[]).push([[675],{852:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var a=t(16),l=t(7888);const n=e=>e<576?l.Rp.XS:e<768?l.Rp.SM:e<992?l.Rp.MD:e<1200?l.Rp.LG:e<1440?l.Rp.XL:l.Rp.XXL,o=()=>{const[e,s]=(0,a.useState)((()=>n(window.innerWidth)));return(0,a.useEffect)((()=>{const e=()=>setTimeout((()=>s(n(window.innerWidth))),200);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}},1249:(e,s,t)=>{"use strict";t.d(s,{A:()=>h});var a=t(5134),l=t(13),n=t(7630),o=t(7888),i=t(8277),r=t(9262),c=t(1349),d=t(3162),m=t(9662),x=t(9646),N=t(76);const h=e=>{const s=(0,x.wA)();return e.responseStatus!==o.JT.NONE?(0,N.jsxs)(a.P.div,{className:"w-100 d-flex align-items-start justify-content-center alert alert-"+(e.responseStatus===o.JT.ERROR?"danger":e.responseStatus===o.JT.PENDING?"warning":e.responseStatus===o.JT.SUCCESS?"success":""),initial:"hidden",animate:"visible",exit:"hidden",variants:o.tw,transition:{ease:"easeOut",duration:1},children:[(0,N.jsx)(l.A,{xs:1,className:"d-flex align-items-start justify-content-start mt-1",children:e.responseStatus===o.JT.PENDING?(0,N.jsx)(n.A,{variant:"primary",size:"sm","data-testid":"status-pending-spinner"}):(0,N.jsx)(r.$,{svgClassName:"information-svg",className:e.responseStatus===o.JT.ERROR?"fill-danger":"fill-success"})}),(0,N.jsx)(l.A,{xs:10,className:"mt-2px ms-1 px-1 text-status",children:(0,i.nx)(e.responseMessage)}),e.responseStatus!==o.JT.PENDING?(0,N.jsx)(l.A,{xs:1,onClick:()=>{(0,i.eM)(e.responseMessage).then((()=>{s((0,m.Fs)({show:!0,message:"Response Copied Successfully!",bg:"success"}))})).catch((e=>{d.A.error(e)}))},className:"d-flex align-items-start justify-content-end btn-sm-svg btn-svg-copy mt-1",id:"",children:(0,N.jsx)(c.G,{id:"",showTooltip:!0})}):(0,N.jsx)(N.Fragment,{})]}):(0,N.jsx)(N.Fragment,{})}},1349:(e,s,t)=>{"use strict";t.d(s,{G:()=>o});t(16);var a=t(7374),l=t(776),n=t(76);const o=e=>(0,n.jsx)(a.A,{placement:"auto",delay:{show:250,hide:250},overlay:e.showTooltip?(0,n.jsx)(l.A,{children:"Copy "+(e.id||"")}):(0,n.jsx)(n.Fragment,{}),children:(0,n.jsxs)("svg",{id:e.id,className:e.className,width:"22",height:"20",viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{id:e.id,className:"stroke-light",d:"M15.3164 6.4375H17.3789C17.7931 6.4375 18.1289 6.77329 18.1289 7.1875V17.6875C18.1289 18.1017 17.7931 18.4375 17.3789 18.4375H6.87891C6.46469 18.4375 6.12891 18.1017 6.12891 17.6875V15.625",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{id:e.id,className:"stroke-light",d:"M1.25391 2.3125C1.25391 1.89828 1.5897 1.5625 2.00391 1.5625H12.5039C12.9181 1.5625 13.2539 1.89829 13.2539 2.3125V12.8125C13.2539 13.2267 12.9181 13.5625 12.5039 13.5625H2.00391C1.58969 13.5625 1.25391 13.2267 1.25391 12.8125V2.3125Z",strokeWidth:"1.3",strokeLinejoin:"round"})]})})},1595:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(16),l=t(3580),n=t(5134),o=t(3403),i=t(7888),r=t(76);const c=()=>{const e=(0,o.zy)();return(0,a.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[e.pathname]),(0,r.jsx)(l.N,{mode:"wait",children:(0,r.jsx)(n.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:i.xt},className:"overflow-hidden","data-testid":"route-transition",children:(0,r.jsx)(o.sv,{})},e.pathname)})}},4365:(e,s,t)=>{"use strict";t.d(s,{A:()=>j});var a=t(9740),l=t(16),n=t(7805),o=t(8390),i=t(5134),r=t(4279),c=t(13),d=t(7888),m=t(1348),x=t(9189),N=t(9662),h=t(9646),u=t(5670),C=t(76);const j=e=>{const s=(0,h.wA)(),t=(0,h.d4)(u.Py),[j,g]=(0,l.useState)("0"),f=e.showOnComponent?!!e.show:!!t.show,p=e.type||t.type||"",A=e.showDelay||t.delay||3e3,v=e.bg||t.bg||"primary",w="toast-container w-100 d-flex justify-content-center "+(e.containerClassName||t.containerClassName||"top-0"),b="d-flex align-items-start justify-content-between "+(e.className||t.className||""),R=e.message||t.message||"";(0,l.useEffect)((()=>{e.showOnComponent||g(f?"3rem":"0")}),[e.showOnComponent,f]);const T=()=>{e.showOnComponent||s((0,N.Fs)((0,a.A)((0,a.A)({},t),{},{show:!1})))},E=l=>{e.showOnComponent?e.onConfirmResponse(l):s((0,N.Fs)((0,a.A)((0,a.A)({},t),{},{show:!1,onConfirmResponse:l})))};return(0,C.jsx)(C.Fragment,{children:"CONFIRM"===p?f?(0,C.jsx)(i.P.div,{variants:d.YO,initial:"hidden",animate:"visible",exit:"hidden",custom:e.custom||0,className:w,children:(0,C.jsx)(r.A,{show:!0,onClose:T,delay:A||3e3,"data-bg":v,className:b,children:(0,C.jsx)(r.A.Body,{"data-testid":"toast-body",className:"p-0 w-100 d-flex align-items-start justify-content-start",children:(0,C.jsxs)(c.A,{className:"d-flex align-items-stretch justify-content-between",children:[(0,C.jsx)(c.A,{xs:2,className:"message-type-box d-flex align-items-center justify-content-center",children:(0,C.jsx)(x.i,{})}),(0,C.jsx)(c.A,{xs:10,className:"p-2",children:(0,C.jsxs)(c.A,{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)(c.A,{xs:6,children:R||"Default Message!"}),(0,C.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>E(!0),children:"Yes"}),(0,C.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>E(!1),children:"No"})]})})]})})})}):(0,C.jsx)(C.Fragment,{}):(0,C.jsx)(i.P.div,{"data-testid":"toast-div",animate:{y:j},transition:d.A9,className:w,children:(0,C.jsx)(r.A,{"data-testid":"toast",show:f,onClose:T,delay:A||3e3,autohide:!0,"data-bg":v,className:b,children:(0,C.jsx)(r.A.Body,{"data-testid":"toast-body",className:"p-0 w-100 d-flex align-items-stretch justify-content-start",children:(0,C.jsxs)(c.A,{className:"d-flex align-items-stretch justify-content-between",children:[(0,C.jsx)(c.A,{xs:2,className:"message-type-box d-flex align-items-center justify-content-center",children:(0,C.jsx)(n.g,{className:"svg-white fa-xl",icon:"success"===v?o.e68:"danger"===v?o.JAe:o.tUE})}),(0,C.jsx)(c.A,{xs:10,className:"p-2",children:(0,C.jsxs)(c.A,{className:"d-flex align-items-center justify-content-between",children:[R||"Default Message!",(0,C.jsx)("span",{className:"btn-toast-close",onClick:T,children:(0,C.jsx)(m.P,{})})]})})]})})})})})}},5038:(e,s,t)=>{"use strict";t.r(s),t.d(s,{App:()=>se,default:()=>te});var a=t(2668),l=t(852),n=t(4365),o=t(9740),i=t(16),r=t(3580),c=t(5134),d=t(3493),m=t(2594),x=t(763),N=t(1521),h=t(6456),u=t(1349),C=t(1348),j=t(3162),g=t(8277),f=t(9662),p=t(9646),A=t(5670),v=t(76);const w=()=>{const e=(0,p.wA)(),s=(0,p.d4)(A.SZ),t=(0,p.d4)(A.bD),a=(0,p.d4)(A.CV),[l,n]=(0,i.useState)("");(0,i.useEffect)((()=>{var e,s;let a=t.id||"";t.address&&null!==(e=t.address)&&void 0!==e&&e.length&&t.address.length>0?a=a+"@"+t.address[0].address+":"+t.address[0].port:t.binding&&null!==(s=t.binding)&&void 0!==s&&s.length&&t.binding.length>0?a=a+"@"+t.binding[0].address+":"+t.binding[0].port:a+="@ : ",n(a)}),[t]);const w=()=>{(0,g.eM)(l).then((()=>{e((0,f.Fs)({show:!0,message:"Node ID Copied Successfully!",bg:"success"}))})).catch((e=>{j.A.error(e)}))},b=()=>{e((0,f.S0)((0,o.A)((0,o.A)({},a),{},{nodeInfoModal:!1})))};return(0,v.jsxs)(m.A,{show:a.nodeInfoModal,onHide:b,centered:!0,className:"modal-lg","data-testid":"node-info-modal",children:[(0,v.jsx)(m.A.Header,{className:"d-flex align-items-start justify-content-end pb-0",children:(0,v.jsx)("span",{className:"span-close-svg",onClick:b,children:(0,v.jsx)(C.P,{})})}),(0,v.jsxs)(m.A.Body,{className:"py-0",children:[(0,v.jsxs)(x.A,{className:"qr-container m-auto d-flex",children:[(0,v.jsx)(r.N,{children:(0,v.jsx)(c.P.img,{alt:"Core Lightning Logo",src:s?"/images/cln-logo-dark.png":"/images/cln-logo-light.png",className:"qr-cln-logo",initial:{opacity:0},animate:{opacity:1},transition:{delay:.05,duration:.01}},"cln-logo")}),(0,v.jsx)(d.Xe,{value:l||"",size:220,includeMargin:!0,bgColor:s?"#0C0C0F":"#FFFFFF",fgColor:s?"#FFFFFF":"#000000"})]}),(0,v.jsxs)(x.A,{className:"d-flex align-items-start justify-content-center pt-2",children:[(0,v.jsx)("h4",{className:"text-blue fw-bold d-flex justify-content-center",children:"Node ID"}),(0,v.jsx)("p",{className:"py-3 w-75 text-break text-dark d-flex justify-content-center",children:"Other Lightning nodes can open payment channels to your node following this Node ID."}),(0,v.jsx)("div",{className:"mb-4 text-break text-dark d-flex justify-content-center",children:(0,v.jsxs)(N.A,{className:"mb-3",children:[(0,v.jsx)(h.A.Control,{onClick:w,placeholder:l,"aria-label":l,"aria-describedby":"copy-addon",className:"form-control-left",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:l,className:"form-control-addon form-control-addon-right",onClick:w,children:(0,v.jsx)(u.G,{id:l})})]})})]})]})]})};var b=t(13),R=t(3596),T=t(7630),E=t(7374),y=t(776);const I=e=>(0,v.jsx)(E.A,{placement:"auto",delay:{show:250,hide:250},overlay:e.showTooltip?(0,v.jsx)(y.A,{children:e.tooltipText||""}):(0,v.jsx)(v.Fragment,{}),children:(0,v.jsxs)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,v.jsx)("path",{d:"M1 8.5H16",stroke:"#9F9F9F",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,v.jsx)("path",{d:"M8.5 1V16",stroke:"#9F9F9F",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})});var L=t(4139);const _=()=>{var e,s,t,a,l,n,w,E,y,_,O,P,S,k,G,M,H,F,V,U,D,K,z,B;const J=(0,p.wA)(),W=(0,p.d4)(A.SZ),q=(0,p.d4)(A.qn),Y=(0,p.d4)(A.CV),[Z,Q]=(0,i.useState)(["LN Message","LN Message (Tor)"]),[X,$]=(0,i.useState)("LN Message"),[ee,se]=(0,i.useState)(""),[te,ae]=(0,i.useState)({port:{title:"Websocket Port",field:"LIGHTNING_WS_PORT"},host:{title:"CLN Host",field:"DEVICE_DOMAIN_NAME"},rune:{title:"Rune",field:"COMMANDO_RUNE"},invoiceRune:{title:"Invoice Rune",field:"INVOICE_RUNE"},connectUrl:{title:"Lnmessage URL",field:""}}),[le,ne]=(0,i.useState)(!1);(0,i.useEffect)((()=>{let e=["LN Message","LN Message (Tor)"];q.LIGHTNING_REST_PORT&&(e.push("REST"),q.TOR_SERVICE&&""!==q.TOR_SERVICE&&e.push("REST (Tor)")),q.LIGHTNING_GRPC_PORT&&(e.push("gRPC"),q.TOR_SERVICE&&""!==q.TOR_SERVICE&&e.push("gRPC (Tor)")),Q(e),"LN Message"===X&&se("ln-message://"+q.DEVICE_DOMAIN_NAME+":"+q.LIGHTNING_WS_PORT+"?rune="+q.COMMANDO_RUNE+(""!==q.INVOICE_RUNE?"&invoiceRune="+q.INVOICE_RUNE:""))}),[q,X]);const oe=e=>{var s,t,a;let l="";switch(e.target.id){case"Websocket Port":l=(null===(s=q.LIGHTNING_WS_PORT)||void 0===s?void 0:s.toString())||"";break;case"gRPC Port":l=(null===(t=q.LIGHTNING_GRPC_PORT)||void 0===t?void 0:t.toString())||"";break;case"REST Port":l=(null===(a=q.LIGHTNING_REST_PORT)||void 0===a?void 0:a.toString())||"";break;case"CLN Host":l=(X.includes("(Tor)")?q.TOR_SERVICE:q.DEVICE_DOMAIN_NAME)||"";break;case"Rune":l=q.COMMANDO_RUNE||"";break;case"Invoice Rune":l=q.INVOICE_RUNE||"";break;case"Client Key":l=q.CLIENT_KEY||"";break;case"Client Cert":l=q.CLIENT_CERT||"";break;case"CA Cert":l=q.CA_CERT||"";break;default:l=ee||""}(0,g.eM)(l).then((()=>{J((0,f.Fs)({show:!0,message:e.target.id+" Copied Successfully!",bg:"success"}))})).catch((e=>{j.A.error(e)}))},ie=()=>{ne(!0),L.fm.createInvoiceRune().then((e=>{J((0,f.My)(e)),J((0,f.Fs)({show:!0,message:"Created Invoice Rune Successfully!",bg:"success"}))})).catch((e=>{j.A.error(e.message||JSON.stringify(e)),J((0,f.Fs)({show:!0,message:"Error Creating Invoice Rune: ".concat(e.message||""),bg:"danger"}))})).finally((()=>{ne(!1)}))},re=()=>{J((0,f.S0)((0,o.A)((0,o.A)({},Y),{},{connectWalletModal:!1})))},ce=e=>{var s,t,a,l;switch($(e.target.id),e.target.id){case"LN Message":default:ae({port:{title:"Websocket Port",field:"LIGHTNING_WS_PORT"},host:{title:"CLN Host",field:"DEVICE_DOMAIN_NAME"},rune:{title:"Rune",field:"COMMANDO_RUNE"},invoiceRune:{title:"Invoice Rune",field:"INVOICE_RUNE"},connectUrl:{title:"Lnmessage URL",field:""}}),se("ln-message://"+q.DEVICE_DOMAIN_NAME+":"+q.LIGHTNING_WS_PORT+"?rune="+q.COMMANDO_RUNE+(""!==q.INVOICE_RUNE?"&invoiceRune="+q.INVOICE_RUNE:""));break;case"LN Message (Tor)":ae({port:{title:"Websocket Port",field:"LIGHTNING_WS_PORT"},host:{title:"CLN Host",field:"TOR_SERVICE"},rune:{title:"Rune",field:"COMMANDO_RUNE"},invoiceRune:{title:"Invoice Rune",field:"INVOICE_RUNE"},connectUrl:{title:"Lnmessage URL",field:""}}),se("ln-message://"+q.TOR_SERVICE+":"+q.LIGHTNING_WS_PORT+"?rune="+q.COMMANDO_RUNE+(""!==q.INVOICE_RUNE?"&invoiceRune="+q.INVOICE_RUNE:""));break;case"REST":ae({protocol:{title:"REST Protocol",field:"LIGHTNING_REST_PROTOCOL"},host:{title:"CLN Host",field:"DEVICE_DOMAIN_NAME"},port:{title:"REST Port",field:"LIGHTNING_REST_PORT"},clientKey:{title:"Client Key",field:"CLIENT_KEY"},clientCert:{title:"Client Cert",field:"CLIENT_CERT"},caCert:{title:"CA Cert",field:"CA_CERT"},connectUrl:{title:"REST URL",field:""}}),se("clnrest://"+q.LIGHTNING_REST_PROTOCOL+"://"+q.DEVICE_DOMAIN_NAME+":"+q.LIGHTNING_REST_PORT+"?rune="+q.COMMANDO_RUNE+("https"===(null===(s=q.LIGHTNING_REST_PROTOCOL)||void 0===s?void 0:s.toLowerCase())?"&clientKey="+q.CLIENT_KEY+"&clientCert="+q.CLIENT_CERT+"&caCert="+q.CA_CERT:""));break;case"REST (Tor)":ae({protocol:{title:"REST Protocol",field:"LIGHTNING_REST_PROTOCOL"},host:{title:"CLN Host",field:"TOR_SERVICE"},port:{title:"REST Port",field:"LIGHTNING_REST_PORT"},clientKey:{title:"Client Key",field:"CLIENT_KEY"},clientCert:{title:"Client Cert",field:"CLIENT_CERT"},caCert:{title:"CA Cert",field:"CA_CERT"},connectUrl:{title:"REST URL",field:""}}),se("clnrest://"+q.LIGHTNING_REST_PROTOCOL+"://"+q.TOR_SERVICE+":"+q.LIGHTNING_REST_PORT+"?rune="+q.COMMANDO_RUNE+("https"===(null===(t=q.LIGHTNING_REST_PROTOCOL)||void 0===t?void 0:t.toLowerCase())?"&clientKey="+q.CLIENT_KEY+"&clientCert="+q.CLIENT_CERT+"&caCert="+q.CA_CERT:""));break;case"gRPC":ae({protocol:{title:"gRPC Protocol",field:"LIGHTNING_GRPC_PROTOCOL"},host:{title:"CLN Host",field:"DEVICE_DOMAIN_NAME"},port:{title:"GRPC Port",field:"LIGHTNING_GRPC_PORT"},clientKey:{title:"Client Key",field:"CLIENT_KEY"},clientCert:{title:"Client Cert",field:"CLIENT_CERT"},caCert:{title:"CA Cert",field:"CA_CERT"},connectUrl:{title:"gRPC URL",field:""}}),se("cln-grpc://"+q.LIGHTNING_GRPC_PROTOCOL+"://"+q.DEVICE_DOMAIN_NAME+":"+q.LIGHTNING_GRPC_PORT+("https"===(null===(a=q.LIGHTNING_GRPC_PROTOCOL)||void 0===a?void 0:a.toLowerCase())?"?clientKey="+q.CLIENT_KEY+"&clientCert="+q.CLIENT_CERT+"&caCert="+q.CA_CERT:""));break;case"gRPC (Tor)":ae({protocol:{title:"gRPC Protocol",field:"LIGHTNING_GRPC_PROTOCOL"},host:{title:"CLN Host",field:"TOR_SERVICE"},port:{title:"GRPC Port",field:"LIGHTNING_GRPC_PORT"},clientKey:{title:"Client Key",field:"CLIENT_KEY"},clientCert:{title:"Client Cert",field:"CLIENT_CERT"},caCert:{title:"CA Cert",field:"CA_CERT"},connectUrl:{title:"gRPC URL",field:""}}),se("cln-grpc://"+q.LIGHTNING_GRPC_PROTOCOL+"://"+q.TOR_SERVICE+":"+q.LIGHTNING_GRPC_PORT+("https"===(null===(l=q.LIGHTNING_GRPC_PROTOCOL)||void 0===l?void 0:l.toLowerCase())?"?clientKey="+q.CLIENT_KEY+"&clientCert="+q.CLIENT_CERT+"&caCert="+q.CA_CERT:""))}};let de,me;return"LN Message"!==X&&"LN Message (Tor)"!==X||(q.INVOICE_RUNE&&""!==q.INVOICE_RUNE?(de=oe,me=u.G):(de=ie,me=I)),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(m.A,{show:Y.connectWalletModal,onHide:re,centered:!0,className:"modal-lg","data-testid":"connect-wallet",children:[(0,v.jsx)(m.A.Header,{className:"d-flex align-items-start justify-content-end pb-0",children:(0,v.jsx)("span",{className:"span-close-svg",onClick:re,children:(0,v.jsx)(C.P,{})})}),(0,v.jsxs)(m.A.Body,{className:"py-0 px-4",children:[(0,v.jsxs)(x.A,{className:"qr-container m-auto d-flex",children:[(0,v.jsx)(r.N,{children:(0,v.jsx)(c.P.img,{alt:"Core Lightning Logo",src:W?"/images/cln-logo-dark.png":"/images/cln-logo-light.png",className:"qr-cln-logo",initial:{opacity:0},animate:{opacity:1},transition:{delay:.05,duration:.01}},"cln-logo")}),(0,v.jsx)(d.Xe,{value:ee,size:220,includeMargin:!0,bgColor:W?"#0C0C0F":"#FFFFFF",fgColor:W?"#FFFFFF":"#000000"})]}),(0,v.jsx)(x.A,{className:"d-flex align-items-start justify-content-center pt-2",children:(0,v.jsx)("h4",{className:"w-100 text-blue fw-semibold d-flex justify-content-center text-center",children:"Connect wallet to your node"})}),(0,v.jsxs)(x.A,{className:"d-flex align-items-start justify-content-center",children:[(0,v.jsxs)(b.A,{xs:X.includes("LN Message")?12:6,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:"Network"}),(0,v.jsxs)(R.A,{className:"dropdown-network mt-1 mb-2",children:[(0,v.jsx)(R.A.Toggle,{variant:"secondary",id:"network",className:"w-100 d-flex align-items-center justify-content-between","data-testid":"network-toggle",children:X}),(0,v.jsx)(R.A.Menu,{"data-testid":"network-menu",children:Z.map((e=>(0,v.jsx)(R.A.Item,{"data-testid":"network-item",as:"div",id:e,onClick:ce,children:e},e)))})]})]}),!X.includes("LN Message")&&te.protocol?(0,v.jsxs)(b.A,{xs:6,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:te.protocol.title}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:oe,id:te.protocol.title,value:q[te.protocol.field]||"","aria-label":q[te.protocol.field],"aria-describedby":"copy-addon-port",className:"form-control-left","data-testid":"protocol",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:te.port.title,className:"form-control-addon form-control-addon-right",onClick:oe,children:(0,v.jsx)(u.G,{id:te.port.title})})]})]}):(0,v.jsx)(b.A,{xs:6})]}),(0,v.jsxs)(x.A,{className:"d-flex align-items-start justify-content-center",children:[(0,v.jsxs)(b.A,{xs:6,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:te.host.title}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:oe,id:te.host.title,value:q[te.host.field]||"","aria-label":q[te.host.field],"aria-describedby":"copy-addon-host",className:"form-control-left","data-testid":"host",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:te.host.title,className:"form-control-addon form-control-addon-right",onClick:oe,children:(0,v.jsx)(u.G,{id:te.host.title})})]})]}),(0,v.jsxs)(b.A,{xs:6,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:te.port.title||""}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:oe,id:te.port.title,value:q[te.port.field]||"","aria-label":q[te.port.field],"aria-describedby":"copy-addon-port",className:"form-control-left","data-testid":"port",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:te.port.title,className:"form-control-addon form-control-addon-right",onClick:oe,children:(0,v.jsx)(u.G,{id:te.port.title})})]})]})]}),"gRPC"!==X&&"gRPC (Tor)"!==X&&te.rune?(0,v.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:te.rune.title||""}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:oe,id:te.rune.title,value:q[te.rune.field]||"","aria-label":q[te.rune.field],"aria-describedby":"copy-addon-rune",className:"form-control-left","data-testid":"rune",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:te.rune.title,className:"form-control-addon form-control-addon-right",onClick:oe,children:(0,v.jsx)(u.G,{id:te.rune.title})})]})]})}):(0,v.jsx)(v.Fragment,{}),("LN Message"===X||"LN Message (Tor)"===X)&&(0,v.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:(null===(e=te.invoiceRune)||void 0===e?void 0:e.title)||""}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:de,id:null===(s=te.invoiceRune)||void 0===s?void 0:s.title,value:q.INVOICE_RUNE||"",placeholder:"Not Found","aria-label":q.INVOICE_RUNE,disabled:le,"aria-describedby":"copy-addon-invoice-rune",className:"form-control-left","data-testid":"invoice-rune",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:null===(t=te.invoiceRune)||void 0===t?void 0:t.title,className:"form-control-addon form-control-addon-right",onClick:le?void 0:de,"data-testid":"invoice-rune-button",children:le?(0,v.jsx)("span",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,v.jsx)(T.A,{className:"me-1",variant:"light",size:"sm","data-testid":"invoice-rune-spinner"})}):me&&(0,v.jsx)(me,{id:null===(a=te.invoiceRune)||void 0===a?void 0:a.title,showTooltip:""===q.INVOICE_RUNE,tooltipText:"Create New Invoice Rune"})})]})]})}),X.includes("REST")&&"https"===(null===(l=q.LIGHTNING_REST_PROTOCOL)||void 0===l?void 0:l.toLowerCase())||X.includes("gRPC")&&"https"===(null===(n=q.LIGHTNING_GRPC_PROTOCOL)||void 0===n?void 0:n.toLowerCase())?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:(null===(w=te.clientKey)||void 0===w?void 0:w.title)||""}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:oe,id:null===(E=te.clientKey)||void 0===E?void 0:E.title,value:q.CLIENT_KEY||"","aria-label":q.CLIENT_KEY,"aria-describedby":"copy-addon-host",className:"form-control-left","data-testid":"client-key",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:null===(y=te.clientKey)||void 0===y?void 0:y.title,className:"form-control-addon form-control-addon-right",onClick:oe,children:(0,v.jsx)(u.G,{id:null===(_=te.clientKey)||void 0===_?void 0:_.title})})]})]})}),(0,v.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:(null===(O=te.clientCert)||void 0===O?void 0:O.title)||""}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:oe,id:null===(P=te.clientCert)||void 0===P?void 0:P.title,value:q.CLIENT_CERT||"","aria-label":q.CLIENT_CERT,"aria-describedby":"copy-addon-host",className:"form-control-left","data-testid":"client-cert",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:null===(S=te.clientCert)||void 0===S?void 0:S.title,className:"form-control-addon form-control-addon-right",onClick:oe,children:(0,v.jsx)(u.G,{id:null===(k=te.clientCert)||void 0===k?void 0:k.title})})]})]})})]}):(0,v.jsx)(v.Fragment,{}),"REST"===X&&"https"===(null===(G=q.LIGHTNING_REST_PROTOCOL)||void 0===G?void 0:G.toLowerCase())||"gRPC"===X&&"https"===(null===(M=q.LIGHTNING_GRPC_PROTOCOL)||void 0===M?void 0:M.toLowerCase())?(0,v.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:(null===(H=te.caCert)||void 0===H?void 0:H.title)||""}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:oe,id:null===(F=te.caCert)||void 0===F?void 0:F.title,value:q.CA_CERT||"","aria-label":q.CA_CERT,"aria-describedby":"copy-addon-host",className:"form-control-left","data-testid":"ca-cert",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:null===(V=te.caCert)||void 0===V?void 0:V.title,className:"form-control-addon form-control-addon-right",onClick:oe,children:(0,v.jsx)(u.G,{id:null===(U=te.caCert)||void 0===U?void 0:U.title})})]})]})}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(x.A,{className:"mb-4 d-flex align-items-start justify-content-center",children:(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:"text-light",children:(null===(D=te.connectUrl)||void 0===D?void 0:D.title)||""}),(0,v.jsxs)(N.A,{className:"mb-2",children:[(0,v.jsx)(h.A.Control,{onClick:oe,id:null===(K=te.connectUrl)||void 0===K?void 0:K.title,value:ee||"","aria-label":ee||"","aria-describedby":"copy-addon-url",className:"form-control-left","data-testid":"connect-url",readOnly:!0}),(0,v.jsx)(N.A.Text,{id:null===(z=te.connectUrl)||void 0===z?void 0:z.title,className:"form-control-addon form-control-addon-right",onClick:oe,children:(0,v.jsx)(u.G,{id:null===(B=te.connectUrl)||void 0===B?void 0:B.title})})]})]})})]})]})})};var O=t(3709),P=t.n(O),S=t(5479),k=t(7888),G=t(5604),M=t(6647);const H=e=>(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 0 512 512",fill:"none",className:e.className,children:(0,v.jsx)("path",{className:"fill-body-color",d:"M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"})});var F=t(1249);const V=e=>(0,v.jsx)("svg",{className:e.className,height:"16",viewBox:"0 0 576 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{className:"fill-body-color",d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"})}),U=e=>(0,v.jsx)("svg",{className:e.className,height:"16",viewBox:"0 0 640 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{className:"fill-body-color",d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"})});var D=t(3403);const K=()=>{const e=(0,D.Zp)(),{pathname:s}=(0,D.zy)(),t=(0,p.wA)(),a=(0,p.d4)(A.CV),[l,n]=(0,i.useState)(!0),[r,c]=(0,i.useState)(k.JT.NONE),[d,u]=(0,i.useState)(""),{value:C,isValid:g,hasError:w,valueChangeHandler:R,inputBlurHandler:E,reset:y}=(0,S.A)((e=>""!==e.trim()));let I=!1;g&&(I=!0);return(0,v.jsx)("form",{className:"h-100",children:(0,v.jsxs)(m.A,{show:a.loginModal,centered:!0,className:"modal-lg","data-testid":"login-modal",children:[(0,v.jsx)(m.A.Header,{className:"d-flex align-items-start justify-content-start pb-0"}),(0,v.jsxs)(m.A.Body,{className:"py-0",children:[(0,v.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:" text-dark",children:"Password*"}),(0,v.jsxs)(N.A,{className:w?"invalid ":"",children:[(0,v.jsx)(N.A.Text,{className:"form-control-addon form-control-addon-left",children:(0,v.jsx)(H,{})}),(0,v.jsx)(h.A.Control,{tabIndex:1,autoFocus:!0,id:"password",type:l?"password":"text",placeholder:"Password","aria-label":"password","aria-describedby":"addon-password",className:l&&""!==C?"form-control-middle password-input-ctrl":"form-control-middle",value:C,onChange:R,onBlur:E}),(0,v.jsx)(N.A.Text,{className:"form-control-addon form-control-addon-right",children:(0,v.jsx)("span",{onClick:()=>{n(!l)},children:l?(0,v.jsx)(V,{}):(0,v.jsx)(U,{})})})]}),w?(0,v.jsx)(M.A,{message:"Invalid Password"}):(0,v.jsx)("div",{className:"message"})]})}),(0,v.jsx)(F.A,{responseStatus:r,responseMessage:d})]}),(0,v.jsx)(m.A.Footer,{children:(0,v.jsxs)("button",{tabIndex:2,type:"button",className:"btn-rounded bg-primary",onClick:async()=>{if(E(),I){c(k.JT.PENDING),u("Logging In...");try{const l=await L.u8.userLogin(P()(C).toString());t((0,f.pz)(l)),l.isAuthenticated&&l.isValidPassword&&(t((0,f.S0)((0,o.A)((0,o.A)({},a),{},{loginModal:!1}))),n(!0),c(k.JT.NONE),u(""),y(),e(s.includes("/bookkeeper")?s:"/cln",{replace:!0}))}catch(l){j.A.error(l),c(k.JT.ERROR),u(l)}}},disabled:r===k.JT.PENDING,children:["Login",r===k.JT.PENDING?(0,v.jsx)(T.A,{className:"mt-1 ms-2 text-white-dark",size:"sm"}):(0,v.jsx)(G.P,{className:"ms-3"})]})})]})})};var z=t(9189),B=t(811),J=t(6963);const W=()=>{const e=(0,p.wA)(),s=(0,p.d4)(A.CV),t=s=>{!0===s?(L.u8.userLogout(),e((0,f.VP)()),e((0,J.Uu)()),e((0,B.is)()),a(!0)):a(!1)},a=t=>{e((0,f.S0)((0,o.A)((0,o.A)({},s),{},{loginModal:t||!1,logoutModal:!1})))};return(0,v.jsx)("form",{className:"h-100",children:(0,v.jsx)(m.A,{show:s.logoutModal,onHide:a,centered:!0,className:"modal-lg","data-testid":"logout-modal",children:(0,v.jsx)(m.A.Body,{className:"p-0 w-100 d-flex align-items-start justify-content-start",children:(0,v.jsxs)(b.A,{className:"d-flex align-items-stretch justify-content-between modal-box",children:[(0,v.jsx)(b.A,{xs:2,className:"message-type-box d-flex align-items-center justify-content-center",children:(0,v.jsx)(z.i,{})}),(0,v.jsx)(b.A,{xs:10,className:"p-3",children:(0,v.jsxs)(b.A,{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)(b.A,{xs:7,className:"ps-1",children:"Logout?"}),(0,v.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>t(!0),children:"Yes"}),(0,v.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>t(!1),children:"No"})]})})]})})})})},q=()=>{const e=(0,D.Zp)(),{pathname:s}=(0,D.zy)(),t=(0,p.wA)(),a=(0,p.d4)(A.CV),l=(0,p.d4)(A.Qt),[n,r]=(0,i.useState)(!0),[c,d]=(0,i.useState)(!0),[u,g]=(0,i.useState)(!0),[w,R]=(0,i.useState)(k.JT.NONE),[E,y]=(0,i.useState)(""),{value:I,isValid:_,hasError:O,valueChangeHandler:K,inputBlurHandler:z,reset:B}=(0,S.A)((e=>""!==e.trim())),{value:J,isValid:W,hasError:q,valueChangeHandler:Y,inputBlurHandler:Z,reset:Q}=(0,S.A)((e=>""!==e.trim())),{value:X,isValid:$,hasError:ee,valueChangeHandler:se,inputBlurHandler:te,reset:ae}=(0,S.A)((e=>""!==e.trim()&&e===J));let le=!1;(l&&_&&W&&$||!l&&W&&$)&&(le=!0);const ne=()=>{t((0,f.S0)((0,o.A)((0,o.A)({},a),{},{setPasswordModal:!1})))};return(0,v.jsx)("form",{className:"h-100",children:(0,v.jsxs)(m.A,{show:a.setPasswordModal,onHide:l?ne:()=>{},centered:!0,className:"modal-lg","data-testid":"set-password-modal",children:[(0,v.jsx)(m.A.Header,{className:"d-flex align-items-start justify-content-end pb-0",children:l?(0,v.jsx)("span",{className:"span-close-svg",onClick:ne,children:(0,v.jsx)(C.P,{})}):(0,v.jsx)(v.Fragment,{})}),(0,v.jsxs)(m.A.Body,{className:"py-0",children:[(0,v.jsxs)(x.A,{className:"d-flex align-items-start justify-content-center",children:[l?(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:" text-dark",children:"Current Password*"}),(0,v.jsxs)(N.A,{className:O?"invalid ":"",children:[(0,v.jsx)(N.A.Text,{className:"form-control-addon form-control-addon-left",children:(0,v.jsx)(H,{})}),(0,v.jsx)(h.A.Control,{tabIndex:1,autoFocus:!0,id:"currpassword",type:n?"password":"text",placeholder:"Current Password","aria-label":"curr-password","aria-describedby":"addon-curr-password",className:n&&""!==I?"form-control-middle password-input-ctrl":"form-control-middle",value:I,onChange:K,onBlur:z}),(0,v.jsx)(N.A.Text,{className:"form-control-addon form-control-addon-right",children:(0,v.jsx)("span",{onClick:()=>{r(!n)},children:n?(0,v.jsx)(V,{}):(0,v.jsx)(U,{})})})]}),O?(0,v.jsx)(M.A,{message:"Invalid Current Password"}):(0,v.jsx)("div",{className:"message"})]}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:" text-dark",children:"New Password*"}),(0,v.jsxs)(N.A,{className:q?"invalid ":"",children:[(0,v.jsx)(N.A.Text,{className:"form-control-addon form-control-addon-left",children:(0,v.jsx)(H,{})}),(0,v.jsx)(h.A.Control,{tabIndex:1,autoFocus:!l,id:"newpassword",type:c?"password":"text",placeholder:"New Password","aria-label":"new-password","aria-describedby":"addon-new-password",className:c&&""!==J?"form-control-middle password-input-ctrl":"form-control-middle",value:J,onChange:Y,onBlur:Z}),(0,v.jsx)(N.A.Text,{className:"form-control-addon form-control-addon-right",children:(0,v.jsx)("span",{onClick:()=>{d(!c)},children:c?(0,v.jsx)(V,{}):(0,v.jsx)(U,{})})})]}),q?(0,v.jsx)(M.A,{message:"Invalid New Password"}):(0,v.jsx)("div",{className:"message"})]}),(0,v.jsxs)(b.A,{xs:12,children:[(0,v.jsx)(h.A.Label,{className:" text-dark",children:"Confirm New Password*"}),(0,v.jsxs)(N.A,{className:ee?"invalid ":"",children:[(0,v.jsx)(N.A.Text,{className:"form-control-addon form-control-addon-left",children:(0,v.jsx)(H,{})}),(0,v.jsx)(h.A.Control,{tabIndex:2,id:"confirmnewpassword",type:u?"password":"text",placeholder:"Confirm New Password","aria-label":"confirm-new-password","aria-describedby":"addon-confirm-new-password",className:u&&""!==X?"form-control-middle password-input-ctrl":"form-control-middle",value:X,onChange:se,onBlur:te}),(0,v.jsx)(N.A.Text,{className:"form-control-addon form-control-addon-right",children:(0,v.jsx)("span",{onClick:()=>{g(!u)},children:u?(0,v.jsx)(V,{}):(0,v.jsx)(U,{})})})]}),ee?(0,v.jsx)(M.A,{message:X!==J?"New and Confirm New Password Do Not Match":"Invalid Confirm New Password"}):(0,v.jsx)("div",{className:"message"})]})]}),(0,v.jsx)(F.A,{responseStatus:w,responseMessage:E})]}),(0,v.jsx)(m.A.Footer,{children:(0,v.jsxs)("button",{tabIndex:3,type:"button",className:"btn-rounded bg-primary",onClick:async()=>{if(z(),Z(),te(),le){R(k.JT.PENDING),y("Resetting Password...");try{const n=await L.u8.resetUserPassword(l,l?P()(I).toString():"",P()(J).toString());j.A.info(n),t((0,f.pz)(n)),n.isAuthenticated&&(r(!0),d(!0),g(!0),R(k.JT.NONE),y(""),B(),Q(),ae(),t((0,f.Fs)({show:!0,message:"Password Reset Successfully!",bg:"success"})),t((0,f.S0)((0,o.A)((0,o.A)({},a),{},{setPasswordModal:!1}))),e(s.includes("/bookkeeper")?s:"/cln",{replace:!0}))}catch(n){R(k.JT.ERROR),y(n.response||n.message||"Unknown Error")}}},disabled:w===k.JT.PENDING,children:[l?"Reset Password":"Set Password",w===k.JT.PENDING?(0,v.jsx)(T.A,{className:"mt-1 ms-2 text-white-dark",size:"sm"}):(0,v.jsx)(G.P,{className:"ms-3"})]})})]})})};var Y=t(1595),Z=t(4372),Q=t(6531),X=t.n(Q);const $=e=>(0,v.jsx)("svg",{className:e.className,width:"12",height:"16",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 448 512",children:(0,v.jsx)("path",{d:"M448 80l0 48c0 44.2-100.3 80-224 80S0 172.2 0 128L0 80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6L448 288c0 44.2-100.3 80-224 80S0 332.2 0 288L0 186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6l0 85.9c0 44.2-100.3 80-224 80S0 476.2 0 432l0-85.9z",className:"fill-body-color"})}),ee=()=>{const e=(0,i.useRef)(null),s=(0,p.d4)(A.CV),t=(0,p.wA)(),a=(0,i.useRef)(null),[l,n]=(0,i.useState)(!1),[r,c]=(0,i.useState)(""),[d,x]=(0,i.useState)(""),w=e=>{let s="";"SQL Query"===e.target.id?s=r:a.current&&(s=a.current.innerText),(0,g.eM)(s).then((()=>{t((0,f.Fs)({show:!0,message:e.target.id+" Copied Successfully!",bg:"success"}))})).catch((e=>{j.A.error(e)}))},b=(0,i.useCallback)((async()=>{const e=r.replace(/\n/g," ").replace(/\s+/g," ").trim();try{const s=await L.u8.executeSql(e);x(JSON.stringify(s.rows,null,2)+"\n\n"),x(e+"\n"+JSON.stringify(s.rows,null,2)+"\n\n")}catch(s){s&&s.message?x(e+"\nError: "+s.message):x(e+"\nError: "+s)}}),[r]);(0,i.useEffect)((()=>{!l&&r.endsWith("\n")&&r.trimEnd().endsWith(";")&&(n(!0),b())}),[r,l,b]),(0,i.useEffect)((()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)}),[d]);const R=()=>{t((0,f.S0)((0,o.A)((0,o.A)({},s),{},{sqlTerminalModal:!1})))};return(0,v.jsxs)(m.A,{ref:e,show:s.sqlTerminalModal,onHide:R,centered:!0,className:"modal-xl","data-testid":"sql-terminal",children:[(0,v.jsxs)(m.A.Header,{className:"d-flex align-items-start justify-content-between pb-0 mx-2",children:[(0,v.jsx)("h4",{children:"SQL Terminal"}),(0,v.jsx)("span",{className:"span-close-svg",onClick:R,children:(0,v.jsx)(C.P,{})})]}),(0,v.jsx)(m.A.Body,{className:"py-0 px-4",children:(0,v.jsxs)("div",{"data-testid":"terminal-container",children:[(0,v.jsxs)(N.A,{className:"d-flex align-items-stretch justify-content-start mb-4",children:[(0,v.jsx)(N.A.Text,{className:"align-items-start form-control-addon form-control-addon-left pt-3",children:(0,v.jsx)($,{})}),(0,v.jsx)(h.A.Control,{tabIndex:1,autoFocus:!0,id:"query",name:"query","data-testid":"query-input",type:"text",placeholder:"SQL Query","aria-label":"query","aria-describedby":"addon-query",className:"form-control-middle terminal-input ps-1 pt-3",as:"textarea",rows:5,value:r,onChange:e=>{n(!1),c(e.target.value)}}),(0,v.jsx)(N.A.Text,{id:r,className:"form-control-addon form-control-addon-right align-items-start pt-3",onClick:w,children:(0,v.jsx)(u.G,{id:"SQL Query",showTooltip:!0})})]}),(0,v.jsxs)("div",{style:{position:"relative"},children:[(0,v.jsx)("button",{tabIndex:3,onClick:w,className:"btn-copy-output",children:(0,v.jsx)(u.G,{id:"Output",showTooltip:!0})}),(0,v.jsx)("pre",{className:"terminal-output "+(d.includes("Error: ")?"text-invalid":"text-valid"),ref:a,children:(0,v.jsx)(X(),{children:(0,v.jsx)("code",{children:d})})})]}),(0,v.jsxs)(Z.A,{className:"btn-group-action mb-3",children:[(0,v.jsx)("button",{tabIndex:4,type:"button",className:"btn-rounded bg-primary fs-6 me-4",onClick:b,children:"Execute"}),(0,v.jsx)("button",{tabIndex:5,type:"button",className:"btn-rounded bg-primary fs-6 me-4",onClick:()=>{c(""),x("")},children:"Clear"}),(0,v.jsx)("button",{tabIndex:6,type:"button",className:"btn-rounded bg-primary fs-6 me-4",onClick:async()=>{window.open("https://docs.corelightning.org/reference/sql","_blank")},children:"Help"})]})]})})]})},se=()=>{const e=(0,l.A)(),s=(0,p.d4)(A.Kc),t=(0,p.d4)(A.JR),o=(0,p.d4)(A.SZ),i=s?"py-4":"py-4 blurred-container",r=document.getElementsByTagName("body")[0],c=r.attributes,d=document.createAttribute("data-bs-theme");d.value=t.toLowerCase()||"dark",r.style.backgroundColor=o?"#0C0C0F":"#EBEFF9";const m=document.createAttribute("data-screensize");return m.value=e,c.setNamedItem(d),c.setNamedItem(m),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.A,{className:i,id:"root-container","data-testid":"container",children:(0,v.jsx)(Y.A,{})}),(0,v.jsx)(n.A,{}),(0,v.jsx)(w,{}),(0,v.jsx)(_,{}),(0,v.jsx)(K,{}),(0,v.jsx)(W,{}),(0,v.jsx)(q,{}),(0,v.jsx)(ee,{})]})},te=se},5156:()=>{},5479:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(16),l=t(7888);const n=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.NZ.ORIGINAL;const[t,n]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),r=e(t);return{value:t,isValid:r,hasError:!r&&o,valueChangeHandler:e=>{e.target.value=(e=>{switch(s){case"lowercase":return e.toLowerCase();case"uppercase":return e.toUpperCase();default:return e}})(e.target.value),n(e.target.value)},inputBlurHandler:()=>{i(!0)},reset:()=>{n(""),i(!1)}}}},5604:(e,s,t)=>{"use strict";t.d(s,{P:()=>l});t(16);var a=t(76);const l=e=>(0,a.jsx)("svg",{className:e.className,width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M0.5 5.83333L12.3083 5.83333L9.325 8.825L10.5 10L15.5 5L10.5 -4.37114e-07L9.325 1.175L12.3083 4.16667L0.500001 4.16667L0.5 5.83333Z",className:"fill-strong-contrast"})})},6647:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(5134),l=t(7888),n=t(9262),o=t(76);const i=e=>(0,o.jsxs)(a.P.div,{className:"message invalid",variants:l.YO,initial:"hidden",animate:"visible",exit:"hidden",custom:e.custom||0,children:[(0,o.jsx)(n.$,{svgClassName:"information-svg",className:"fill-danger"}),e.message]})},9189:(e,s,t)=>{"use strict";t.d(s,{i:()=>l});t(16);var a=t(76);const l=e=>(0,a.jsxs)("svg",{className:e.className,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{className:"stroke-white",d:"M16 28C22.6274 28 28 22.6274 28 16C28 9.37258 22.6274 4 16 4C9.37258 4 4 9.37258 4 16C4 22.6274 9.37258 28 16 28Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{className:"fill-white",d:"M16 24C16.8284 24 17.5 23.3284 17.5 22.5C17.5 21.6716 16.8284 21 16 21C15.1716 21 14.5 21.6716 14.5 22.5C14.5 23.3284 15.1716 24 16 24Z"}),(0,a.jsx)("path",{className:"stroke-white",d:"M16 18V17C16.6922 17 17.3689 16.7947 17.9445 16.4101C18.5201 16.0256 18.9687 15.4789 19.2336 14.8394C19.4985 14.1999 19.5678 13.4961 19.4327 12.8172C19.2977 12.1383 18.9644 11.5146 18.4749 11.0251C17.9854 10.5356 17.3617 10.2023 16.6828 10.0673C16.0039 9.9322 15.3001 10.0015 14.6606 10.2664C14.0211 10.5313 13.4744 10.9799 13.0899 11.5555C12.7053 12.1311 12.5 12.8078 12.5 13.5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},9262:(e,s,t)=>{"use strict";t.d(s,{$:()=>l});t(16);var a=t(76);const l=e=>(0,a.jsxs)("svg",{className:e.svgClassName,width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.125 1.25C4.32804 1.25 1.25 4.32804 1.25 8.125C1.25 11.922 4.32804 15 8.125 15C11.922 15 15 11.922 15 8.125C15 4.32804 11.922 1.25 8.125 1.25ZM0 8.125C0 3.63769 3.63769 0 8.125 0C12.6123 0 16.25 3.63769 16.25 8.125C16.25 12.6123 12.6123 16.25 8.125 16.25C3.63769 16.25 0 12.6123 0 8.125Z",className:e.className}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.875 7.5C6.875 7.15482 7.15482 6.875 7.5 6.875H8.125C8.47018 6.875 8.75 7.15482 8.75 7.5V11.25C9.09518 11.25 9.375 11.5298 9.375 11.875C9.375 12.2202 9.09518 12.5 8.75 12.5H8.125C7.77982 12.5 7.5 12.2202 7.5 11.875V8.125C7.15482 8.125 6.875 7.84518 6.875 7.5Z",className:e.className}),(0,a.jsx)("path",{d:"M7.96875 5.625C8.48652 5.625 8.90625 5.20527 8.90625 4.6875C8.90625 4.16973 8.48652 3.75 7.96875 3.75C7.45098 3.75 7.03125 4.16973 7.03125 4.6875C7.03125 5.20527 7.45098 5.625 7.96875 5.625Z",className:e.className})]})}}]);