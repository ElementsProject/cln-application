(self.webpackChunkcln_application_frontend=self.webpackChunkcln_application_frontend||[]).push([[948],{791:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});s(2176);var a=s(7280),n=s(9786),o=s(6652),l=s(812);const i=e=>(0,l.jsxs)(a.P.div,{className:"message invalid",variants:n.YO,initial:"hidden",animate:"visible",exit:"hidden",custom:e.custom||0,children:[(0,l.jsx)(o.$,{svgClassName:"information-svg",className:"fill-danger"}),e.message]})},1337:(e,t,s)=>{"use strict";s.d(t,{A:()=>N});var a=s(6620),n=s(2176),o=s(9786),l=s(5168),i=s(5351),r=s(7378),d=s(2820),c=s(1040);let h,m={isLoading:!0,isAuthenticated:!1,isValidPassword:!1},C={isLoading:!0,uiConfig:{unit:o.WU.SATS,fiatUnit:"USD",appMode:o.Jr.DARK},serverConfig:{singleSignOn:!1,lightningNodeType:"CLN"}};const u=a.A.create({baseURL:o.JR+o.mG,timeout:5*o.a0,withCredentials:!0}),N=()=>{let e=(0,n.useContext)(i.o),t=(0,n.useContext)(r.D),s=(0,n.useContext)(c.j);const a=(0,n.useCallback)((t=>u.get("/shared/rate/"+t).then((s=>{const a=o.$P.find((e=>e.currency===t));e.setFiatConfig({...s.data,isLoading:!1,symbol:a?a.symbol:d.Vpi,error:null})})).catch((t=>{var s;e.setFiatConfig({isLoading:!1,symbol:d.Vpi,rate:1,venue:"",error:(null===(s=t.response)||void 0===s?void 0:s.data)||""})}))),[e]),N=(0,n.useCallback)((function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];try{let t;t=s.length>0?s.map((e=>u(e.url,{method:e.method,data:e.body}))):[u(s[0].url,{method:s[0].method,data:s[0].body})],Promise.all(t).then((t=>{l.A.info(t);for(let e=0;e<s.length;e++)"/shared/config"===s[e].url&&(t[0].data={...t[0].data,isLoading:!1,error:null},C=t[0].data,a(t[0].data.uiConfig.fiatUnit));const n=t.map((e=>({...e.data,isLoading:!1,error:null})));1===n.length?e({...t[0].data,isLoading:!1,error:null}):n.length>1&&e(t.map((e=>({...e.data}))))})).catch((t=>{var s;l.A.error(t),e({isLoading:!1,error:(null===t||void 0===t||null===(s=t.response)||void 0===s?void 0:s.data)||t})}))}catch(i){var o;l.A.error(i),e({isLoading:!1,error:(null===i||void 0===i||null===(o=i.response)||void 0===o?void 0:o.data)||i})}}),[a]),x=(0,n.useCallback)((()=>{N(e.setWalletConnect,{method:"get",url:"/shared/connectwallet"})}),[e,N]),g=(0,n.useCallback)((e=>{N(t.setListChannels,{method:"post",url:"/cln/call",body:{method:"listpeerchannels",params:{}}},{method:"post",url:"/cln/call",body:{method:"listnodes",params:{}}}),N(t.setNodeInfo,{method:"post",url:"/cln/call",body:{method:"getinfo",params:{}}})}),[t,N]),p=(0,n.useCallback)((()=>{var e;"GREENLIGHT"===(null===(e=C.serverConfig)||void 0===e?void 0:e.lightningNodeType)?N(s.setNodeInfo,{method:"post",url:"/cln/call",body:{method:"getinfo",params:{}}}):(x(),N(g,{method:"post",url:"/cln/call",body:{method:"getinfo",params:{}}}),N(t.setListPeers,{method:"post",url:"/cln/call",body:{method:"listpeers",params:{}}}),N(t.setListInvoices,{method:"post",url:"/cln/call",body:{method:"listinvoices",params:{}}}),N(t.setListPayments,{method:"post",url:"/cln/call",body:{method:"listsendpays",params:{}}}),N(t.setListFunds,{method:"post",url:"/cln/call",body:{method:"listfunds",params:{}}}),N(t.setListOffers,{method:"post",url:"/cln/call",body:{method:"listoffers",params:{}}}),N(t.setListBitcoinTransactions,{method:"post",url:"/cln/call",body:{method:"bkpr-listaccountevents",params:{}}}),N(t.setFeeRate,{method:"post",url:"/cln/call",body:{method:"feerates",params:{style:"perkb"}}}))}),[t,s,N,g,x]),f=(0,n.useCallback)((function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{return u(s,{method:t,data:a,timeout:5e4}).then((t=>(e&&p(),t))).catch((e=>{throw e}))}catch(n){throw n}}),[p]),w=()=>f(!1,"post","/shared/saveinvoicerune"),j=()=>f(!0,"get","/shared/connectwallet/");return{setCSRFToken:()=>new Promise(((e,t)=>{try{return l.A.info("Base URL: "+o.JR+o.mG),u.get("/shared/csrf").then((t=>{u.defaults.headers.post={"XSRF-TOKEN":t.data.csrfToken},e(!0)})).catch((e=>{l.A.error(e),t(e)}))}catch(s){l.A.error(s),t(s)}})),getAuthStatus:()=>u.post("/auth/isauthenticated",{returnResponse:!0}).then((t=>(l.A.info(t),t.data={...t.data,isLoading:!1,error:null},e.setAuthStatus(t.data),m=t.data,t.data))).catch((e=>{throw l.A.error(e),e})),getAppConfigurations:(0,n.useCallback)((()=>{N(e.setConfig,{method:"get",url:"/shared/config"})}),[e,N]),initiateDataLoading:()=>{const e=()=>{m.isLoading||C.isLoading?setTimeout(e,100):(p(),h&&window.clearInterval(h),h=window.setInterval((()=>{var e;l.A.info("Current Auth Status: ",JSON.stringify(m)),null!==(e=m)&&void 0!==e&&e.isAuthenticated&&p()}),o.a0))};e()},getConnectWallet:x,fetchData:p,getFiatRate:a,updateConfig:t=>{u.post("/shared/config",t).then((s=>{e.appConfig.uiConfig.fiatUnit!==t.uiConfig.fiatUnit&&a(t.uiConfig.fiatUnit),e.setConfig(t)})).catch((e=>(l.A.error(e),e)))},openChannel:(e,t,s,a)=>f(!0,"post","/cln/call",{method:"fundchannel",params:{id:e,amount:t,feerate:s,announce:a}}),closeChannel:e=>f(!0,"post","/cln/call",{method:"close",params:{id:e}}),btcWithdraw:(e,t,s)=>f(!0,"post","/cln/call",{method:"withdraw",params:{destination:e,satoshi:t,feerate:s}}),btcDeposit:()=>f(!1,"post","/cln/call",{method:"newaddr",params:{addresstype:"bech32"}}),clnSendPayment:(e,t,s)=>{if(e===o.dm.KEYSEND)return f(!0,"post","/cln/call",{method:"keysend",params:{destination:t,amount_msat:s}});return f(!0,"post","/cln/call",{method:"pay",params:s?{bolt11:t,amount_msat:s}:{bolt11:t}})},clnReceiveInvoice:(e,t,s,a)=>e===o.dm.OFFER?f(!1,"post","/cln/call",{method:"offer",params:{amount:t,description:s}}):f(!1,"post","/cln/call",{method:"invoice",params:{amount_msat:t,label:a,description:s}}),decodeInvoice:e=>f(!1,"post","/cln/call",{method:"decode",params:{string:e}}),fetchInvoice:(e,t)=>f(!1,"post","/cln/call",{method:"fetchinvoice",params:{offer:e,amount_msat:t*o.A5}}),createInvoiceRune:()=>f(!1,"post","/cln/call",{method:"createrune",params:{restrictions:[["method=invoice"],["method=listinvoices"]]}}).then((()=>w())).then((()=>j())).catch((e=>{throw l.A.error("Error creating or saving invoice rune: ",e.message||JSON.stringify(e)),e})),userLogin:t=>u.post("/auth/login",{password:t}).then((t=>(l.A.info(t),t.data={...t.data,isLoading:!1,error:null},e.setAuthStatus(t.data),m=t.data,t.data))).catch((e=>{throw l.A.error(e),e})),resetUserPassword:(t,s,a)=>u.post("/auth/reset",{isValid:t,currPassword:s,newPassword:a}).then((t=>(l.A.info(t),t.data={...t.data,isLoading:!1,error:null},e.setAuthStatus(t.data),m=t.data,t.data))).catch((e=>{throw l.A.error(e),e})),userLogout:()=>u.get("/auth/logout").then((s=>{l.A.info(s),s.data={...s.data,isLoading:!1,error:null},t.clearStore(),m=JSON.parse(JSON.stringify(s.data)),e.setShowModals({...e.showModals,loginModal:!0,logoutModal:!1})})).catch((e=>{throw l.A.error(e),e}))}}},3117:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(2176),n=s(3647),o=s(2820),l=s(7280),i=s(7036),r=s(4173),d=s(9786),c=s(4806),h=s(5451),m=s(5351),C=s(812);const u=e=>{const t=(0,a.useContext)(m.o),[s,u]=(0,a.useState)("0"),N=e.showOnComponent?!!e.show:!!t.showToast.show,x=e.type||t.showToast.type||"",g=e.showDelay||t.showToast.delay||3e3,p=e.bg||t.showToast.bg||"primary",f="toast-container w-100 d-flex justify-content-center "+(e.containerClassName||t.showToast.containerClassName||"top-0"),w="d-flex align-items-start justify-content-between "+(e.className||t.showToast.className||""),j=e.message||t.showToast.message||"";(0,a.useEffect)((()=>{e.showOnComponent||u(N?"3rem":"0")}),[e.showOnComponent,N]);const v=()=>{e.showOnComponent||t.setShowToast({...t.showToast,show:!1})},A=s=>{e.showOnComponent?e.onConfirmResponse(s):t.setShowToast({...t.showToast,show:!1,onConfirmResponse:s})};return(0,C.jsx)(C.Fragment,{children:"CONFIRM"===x?N?(0,C.jsx)(l.P.div,{variants:d.YO,initial:"hidden",animate:"visible",exit:"hidden",custom:e.custom||0,className:f,children:(0,C.jsx)(i.A,{show:!0,onClose:v,delay:g||3e3,"data-bg":p,className:w,children:(0,C.jsx)(i.A.Body,{className:"p-0 w-100 d-flex align-items-start justify-content-start",children:(0,C.jsxs)(r.A,{className:"d-flex align-items-stretch justify-content-between",children:[(0,C.jsx)(r.A,{xs:2,className:"message-type-box d-flex align-items-center justify-content-center",children:(0,C.jsx)(h.i,{})}),(0,C.jsx)(r.A,{xs:10,className:"p-2",children:(0,C.jsxs)(r.A,{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)(r.A,{xs:6,children:j||"Default Message!"}),(0,C.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>A(!0),children:"Yes"}),(0,C.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>A(!1),children:"No"})]})})]})})})}):(0,C.jsx)(C.Fragment,{}):(0,C.jsx)(l.P.div,{animate:{y:s},transition:d.A9,className:f,children:(0,C.jsx)(i.A,{show:N,onClose:v,delay:g||3e3,autohide:!0,"data-bg":p,className:w,children:(0,C.jsx)(i.A.Body,{className:"p-0 w-100 d-flex align-items-stretch justify-content-start",children:(0,C.jsxs)(r.A,{className:"d-flex align-items-stretch justify-content-between",children:[(0,C.jsx)(r.A,{xs:2,className:"message-type-box d-flex align-items-center justify-content-center",children:(0,C.jsx)(n.g,{className:"svg-white fa-xl",icon:"success"===p?o.e68:"danger"===p?o.JAe:o.tUE})}),(0,C.jsx)(r.A,{xs:10,className:"p-2",children:(0,C.jsxs)(r.A,{className:"d-flex align-items-center justify-content-between",children:[j||"Default Message!",(0,C.jsx)("span",{className:"btn-toast-close",onClick:v,children:(0,C.jsx)(c.P,{})})]})})]})})})})})}},4550:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(2176),n=s(9786);const o=e=>e<576?n.Rp.XS:e<768?n.Rp.SM:e<992?n.Rp.MD:e<1200?n.Rp.LG:e<1440?n.Rp.XL:n.Rp.XXL,l=()=>{const[e,t]=(0,a.useState)((()=>o(window.innerWidth)));return(0,a.useEffect)((()=>{const e=()=>setTimeout((()=>t(o(window.innerWidth))),200);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}},4806:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});s(2176);var a=s(812);const n=e=>(0,a.jsxs)("svg",{className:e.className,width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M1 16L16 1",strokeWidth:"2",strokeLinecap:"round",className:"stroke-light"}),(0,a.jsx)("path",{d:"M16 16L1 1",strokeWidth:"2",strokeLinecap:"round",className:"stroke-light"})]})},5156:()=>{},5451:(e,t,s)=>{"use strict";s.d(t,{i:()=>n});s(2176);var a=s(812);const n=e=>(0,a.jsxs)("svg",{className:e.className,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{className:"stroke-white",d:"M16 28C22.6274 28 28 22.6274 28 16C28 9.37258 22.6274 4 16 4C9.37258 4 4 9.37258 4 16C4 22.6274 9.37258 28 16 28Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{className:"fill-white",d:"M16 24C16.8284 24 17.5 23.3284 17.5 22.5C17.5 21.6716 16.8284 21 16 21C15.1716 21 14.5 21.6716 14.5 22.5C14.5 23.3284 15.1716 24 16 24Z"}),(0,a.jsx)("path",{className:"stroke-white",d:"M16 18V17C16.6922 17 17.3689 16.7947 17.9445 16.4101C18.5201 16.0256 18.9687 15.4789 19.2336 14.8394C19.4985 14.1999 19.5678 13.4961 19.4327 12.8172C19.2977 12.1383 18.9644 11.5146 18.4749 11.0251C17.9854 10.5356 17.3617 10.2023 16.6828 10.0673C16.0039 9.9322 15.3001 10.0015 14.6606 10.2664C14.0211 10.5313 13.4744 10.9799 13.0899 11.5555C12.7053 12.1311 12.5 12.8078 12.5 13.5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},6205:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(2176),n=s(9786);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.NZ.ORIGINAL;const[s,o]=(0,a.useState)(""),[l,i]=(0,a.useState)(!1),r=e(s);return{value:s,isValid:r,hasError:!r&&l,valueChangeHandler:e=>{e.target.value=(e=>{switch(t){case"lowercase":return e.toLowerCase();case"uppercase":return e.toUpperCase();default:return e}})(e.target.value),o(e.target.value)},inputBlurHandler:e=>{i(!0)},reset:()=>{o(""),i(!1)}}}},6652:(e,t,s)=>{"use strict";s.d(t,{$:()=>n});s(2176);var a=s(812);const n=e=>(0,a.jsxs)("svg",{className:e.svgClassName,width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.125 1.25C4.32804 1.25 1.25 4.32804 1.25 8.125C1.25 11.922 4.32804 15 8.125 15C11.922 15 15 11.922 15 8.125C15 4.32804 11.922 1.25 8.125 1.25ZM0 8.125C0 3.63769 3.63769 0 8.125 0C12.6123 0 16.25 3.63769 16.25 8.125C16.25 12.6123 12.6123 16.25 8.125 16.25C3.63769 16.25 0 12.6123 0 8.125Z",className:e.className}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.875 7.5C6.875 7.15482 7.15482 6.875 7.5 6.875H8.125C8.47018 6.875 8.75 7.15482 8.75 7.5V11.25C9.09518 11.25 9.375 11.5298 9.375 11.875C9.375 12.2202 9.09518 12.5 8.75 12.5H8.125C7.77982 12.5 7.5 12.2202 7.5 11.875V8.125C7.15482 8.125 6.875 7.84518 6.875 7.5Z",className:e.className}),(0,a.jsx)("path",{d:"M7.96875 5.625C8.48652 5.625 8.90625 5.20527 8.90625 4.6875C8.90625 4.16973 8.48652 3.75 7.96875 3.75C7.45098 3.75 7.03125 4.16973 7.03125 4.6875C7.03125 5.20527 7.45098 5.625 7.96875 5.625Z",className:e.className})]})},7159:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(2176),n=s(7280),o=s(4173),l=s(8286),i=s(9786),r=s(307),d=s(6652),c=s(9735),h=s(5168),m=s(5351),C=s(812);const u=e=>{const t=(0,a.useContext)(m.o);return e.responseStatus!==i.JT.NONE?(0,C.jsxs)(n.P.div,{className:"w-100 d-flex align-items-start justify-content-center alert alert-"+(e.responseStatus===i.JT.ERROR?"danger":e.responseStatus===i.JT.PENDING?"warning":e.responseStatus===i.JT.SUCCESS?"success":""),initial:"hidden",animate:"visible",exit:"hidden",variants:i.tw,transition:{ease:"easeOut",duration:1},children:[(0,C.jsx)(o.A,{xs:1,className:"d-flex align-items-start justify-content-start mt-1",children:e.responseStatus===i.JT.PENDING?(0,C.jsx)(l.A,{className:"me-2",variant:"primary",size:"sm","data-testid":"status-pending-spinner"}):(0,C.jsx)(d.$,{svgClassName:"information-svg",className:e.responseStatus===i.JT.ERROR?"fill-danger":"fill-success"})}),(0,C.jsx)(o.A,{xs:10,className:"px-1 text-status",children:(0,r.nx)(e.responseMessage)}),e.responseStatus!==i.JT.PENDING?(0,C.jsx)(o.A,{xs:1,onClick:s=>{(0,r.eM)(e.responseMessage).then((e=>{t.setShowToast({show:!0,message:"Response Copied Successfully!",bg:"success"})})).catch((e=>{h.A.error(e)}))},className:"d-flex align-items-start justify-content-end btn-sm-svg btn-svg-copy mt-1",id:"",children:(0,C.jsx)(c.G,{id:"",showTooltip:!0})}):(0,C.jsx)(C.Fragment,{})]}):(0,C.jsx)(C.Fragment,{})}},8233:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var a=s(2176),n=s(4571),o=s(5708),l=s(1337),i=s(4550),r=s(5351),d=s(7378),c=s(9786),h=s(3117),m=s(623),C=s(7280),u=s(5235),N=s(1343),x=s(5675),g=s(4613),p=s(7557),f=s(9735),w=s(4806),j=s(5168),v=s(307),A=s(812);const R=()=>{const e=(0,a.useContext)(r.o),t=(0,a.useContext)(d.D),[s,n]=(0,a.useState)("");(0,a.useEffect)((()=>{var e,s;let a=t.nodeInfo.id||"";t.nodeInfo.address&&null!==(e=t.nodeInfo.address)&&void 0!==e&&e.length&&t.nodeInfo.address.length>0?a=a+"@"+t.nodeInfo.address[0].address+":"+t.nodeInfo.address[0].port:t.nodeInfo.binding&&null!==(s=t.nodeInfo.binding)&&void 0!==s&&s.length&&t.nodeInfo.binding.length>0?a=a+"@"+t.nodeInfo.binding[0].address+":"+t.nodeInfo.binding[0].port:a+="@ : ",n(a)}),[t]);const o=()=>{(0,v.eM)(s).then((t=>{e.setShowToast({show:!0,message:"Node ID Copied Successfully!",bg:"success"})})).catch((e=>{j.A.error(e)}))},l=()=>{e.setShowModals({...e.showModals,nodeInfoModal:!1})};return(0,A.jsxs)(N.A,{show:e.showModals.nodeInfoModal,onHide:l,centered:!0,className:"modal-lg","data-testid":"node-info-modal",children:[(0,A.jsx)(N.A.Header,{className:"d-flex align-items-start justify-content-end pb-0",children:(0,A.jsx)("span",{className:"span-close-svg",onClick:l,children:(0,A.jsx)(w.P,{})})}),(0,A.jsxs)(N.A.Body,{className:"py-0",children:[(0,A.jsxs)(x.A,{className:"qr-container m-auto d-flex",children:[(0,A.jsx)(m.N,{children:(0,A.jsx)(C.P.img,{alt:"Core Lightning Logo",src:e.appConfig.uiConfig.appMode===c.Jr.DARK?"/images/cln-logo-dark.png":"/images/cln-logo-light.png",className:"qr-cln-logo",initial:{opacity:0},animate:{opacity:1},transition:{delay:.05,duration:.01}},"cln-logo")}),(0,A.jsx)(u.Xe,{value:s||"",size:220,includeMargin:!0,bgColor:e.appConfig.uiConfig.appMode===c.Jr.DARK?"#0C0C0F":"#FFFFFF",fgColor:e.appConfig.uiConfig.appMode===c.Jr.DARK?"#FFFFFF":"#000000"})]}),(0,A.jsxs)(x.A,{className:"d-flex align-items-start justify-content-center pt-2",children:[(0,A.jsx)("h4",{className:"text-blue fw-bold d-flex justify-content-center",children:"Node ID"}),(0,A.jsx)("p",{className:"py-3 w-75 text-break text-dark d-flex justify-content-center",children:"Other Lightning nodes can open payment channels to your node following this Node ID."}),(0,A.jsx)("div",{className:"mb-4 text-break text-dark d-flex justify-content-center",children:(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:o,placeholder:s,"aria-label":s,"aria-describedby":"copy-addon",className:"form-control-left",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:s,className:"form-control-addon form-control-addon-right",onClick:o,children:(0,A.jsx)(f.G,{id:s})})]})})]})]})]})};var T=s(4173),I=s(1829),b=s(8286),E=s(2189),L=s(1416);const y=e=>(0,A.jsx)(E.A,{placement:"auto",delay:{show:250,hide:250},overlay:e.showTooltip?(0,A.jsx)(L.A,{children:e.tooltipText||""}):(0,A.jsx)(A.Fragment,{}),children:(0,A.jsxs)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,A.jsx)("path",{d:"M1 8.5H16",stroke:"#9F9F9F",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,A.jsx)("path",{d:"M8.5 1V16",stroke:"#9F9F9F",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})}),O=()=>{var e,t,s,n,o,i,d,h,R,E,L,O,_,P,S,M,k,G,H,F,V,D,U,J;const K=(0,a.useContext)(r.o),{createInvoiceRune:B}=(0,l.A)(),[W,z]=(0,a.useState)(["LN Message","LN Message (Tor)"]),[Y,Z]=(0,a.useState)("LN Message"),[X,$]=(0,a.useState)(""),[q,Q]=(0,a.useState)({port:{title:"Websocket Port",field:"LIGHTNING_WS_PORT"},host:{title:"CLN Host",field:"DEVICE_DOMAIN_NAME"},rune:{title:"Rune",field:"COMMANDO_RUNE"},invoiceRune:{title:"Invoice Rune",field:"INVOICE_RUNE"},connectUrl:{title:"Lnmessage URL",field:""}}),[ee,te]=(0,a.useState)(!1);(0,a.useEffect)((()=>{let e=["LN Message","LN Message (Tor)"];K.walletConnect.LIGHTNING_REST_PORT&&""!==K.walletConnect.LIGHTNING_REST_PORT&&(e.push("REST"),K.walletConnect.TOR_SERVICE&&""!==K.walletConnect.TOR_SERVICE&&e.push("REST (Tor)")),K.walletConnect.LIGHTNING_GRPC_PORT&&""!==K.walletConnect.LIGHTNING_GRPC_PORT&&(e.push("gRPC"),K.walletConnect.TOR_SERVICE&&""!==K.walletConnect.TOR_SERVICE&&e.push("gRPC (Tor)")),z(e),"LN Message"===Y&&$("ln-message://"+K.walletConnect.DEVICE_DOMAIN_NAME+":"+K.walletConnect.LIGHTNING_WS_PORT+"?rune="+K.walletConnect.COMMANDO_RUNE+(""!==K.walletConnect.INVOICE_RUNE?"&invoiceRune="+K.walletConnect.INVOICE_RUNE:""))}),[K,Y]);const se=e=>{let t="";switch(e.target.id){case"Websocket Port":t=K.walletConnect.LIGHTNING_WS_PORT||"";break;case"gRPC Port":t=K.walletConnect.LIGHTNING_GRPC_PORT||"";break;case"REST Port":t=K.walletConnect.LIGHTNING_REST_PORT||"";break;case"CLN Host":t=(Y.includes("(Tor)")?K.walletConnect.TOR_SERVICE:K.walletConnect.DEVICE_DOMAIN_NAME)||"";break;case"Rune":t=K.walletConnect.COMMANDO_RUNE||"";break;case"Invoice Rune":t=K.walletConnect.INVOICE_RUNE||"";break;case"Client Key":t=K.walletConnect.CLIENT_KEY||"";break;case"Client Cert":t=K.walletConnect.CLIENT_CERT||"";break;case"CA Cert":t=K.walletConnect.CA_CERT||"";break;default:t=X||""}(0,v.eM)(t).then((t=>{K.setShowToast({show:!0,message:e.target.id+" Copied Successfully!",bg:"success"})})).catch((e=>{j.A.error(e)}))},ae=()=>{te(!0),B().then((()=>{K.setShowToast({show:!0,message:"Created Invoice Rune Successfully!",bg:"success"})})).catch((e=>{j.A.error(e.message||JSON.stringify(e)),K.setShowToast({show:!0,message:`Error Creating Invoice Rune: ${e.message||""}`,bg:"danger"})})).finally((()=>{te(!1)}))},ne=()=>{K.setShowModals({...K.showModals,connectWalletModal:!1})},oe=e=>{var t,s,a,n;switch(Z(e.target.id),e.target.id){case"LN Message":default:Q({port:{title:"Websocket Port",field:"LIGHTNING_WS_PORT"},host:{title:"CLN Host",field:"DEVICE_DOMAIN_NAME"},rune:{title:"Rune",field:"COMMANDO_RUNE"},invoiceRune:{title:"Invoice Rune",field:"INVOICE_RUNE"},connectUrl:{title:"Lnmessage URL",field:""}}),$("ln-message://"+K.walletConnect.DEVICE_DOMAIN_NAME+":"+K.walletConnect.LIGHTNING_WS_PORT+"?rune="+K.walletConnect.COMMANDO_RUNE+(""!==K.walletConnect.INVOICE_RUNE?"&invoiceRune="+K.walletConnect.INVOICE_RUNE:""));break;case"LN Message (Tor)":Q({port:{title:"Websocket Port",field:"LIGHTNING_WS_PORT"},host:{title:"CLN Host",field:"TOR_SERVICE"},rune:{title:"Rune",field:"COMMANDO_RUNE"},invoiceRune:{title:"Invoice Rune",field:"INVOICE_RUNE"},connectUrl:{title:"Lnmessage URL",field:""}}),$("ln-message://"+K.walletConnect.TOR_SERVICE+":"+K.walletConnect.LIGHTNING_WS_PORT+"?rune="+K.walletConnect.COMMANDO_RUNE+(""!==K.walletConnect.INVOICE_RUNE?"&invoiceRune="+K.walletConnect.INVOICE_RUNE:""));break;case"REST":Q({protocol:{title:"REST Protocol",field:"LIGHTNING_REST_PROTOCOL"},host:{title:"CLN Host",field:"DEVICE_DOMAIN_NAME"},port:{title:"REST Port",field:"LIGHTNING_REST_PORT"},clientKey:{title:"Client Key",field:"CLIENT_KEY"},clientCert:{title:"Client Cert",field:"CLIENT_CERT"},caCert:{title:"CA Cert",field:"CA_CERT"},connectUrl:{title:"REST URL",field:""}}),$("clnrest://"+K.walletConnect.LIGHTNING_REST_PROTOCOL+"://"+K.walletConnect.DEVICE_DOMAIN_NAME+":"+K.walletConnect.LIGHTNING_REST_PORT+("https"===(null===(t=K.walletConnect.LIGHTNING_REST_PROTOCOL)||void 0===t?void 0:t.toLowerCase())?"?clientKey="+K.walletConnect.CLIENT_KEY+"&clientCert="+K.walletConnect.CLIENT_CERT+"&caCert="+K.walletConnect.CA_CERT:""));break;case"REST (Tor)":Q({protocol:{title:"REST Protocol",field:"LIGHTNING_REST_PROTOCOL"},host:{title:"CLN Host",field:"TOR_SERVICE"},port:{title:"REST Port",field:"LIGHTNING_REST_PORT"},clientKey:{title:"Client Key",field:"CLIENT_KEY"},clientCert:{title:"Client Cert",field:"CLIENT_CERT"},caCert:{title:"CA Cert",field:"CA_CERT"},connectUrl:{title:"REST URL",field:""}}),$("clnrest://"+K.walletConnect.LIGHTNING_REST_PROTOCOL+"://"+K.walletConnect.TOR_SERVICE+":"+K.walletConnect.LIGHTNING_REST_PORT+("https"===(null===(s=K.walletConnect.LIGHTNING_REST_PROTOCOL)||void 0===s?void 0:s.toLowerCase())?"?clientKey="+K.walletConnect.CLIENT_KEY+"&clientCert="+K.walletConnect.CLIENT_CERT+"&caCert="+K.walletConnect.CA_CERT:""));break;case"gRPC":Q({protocol:{title:"gRPC Protocol",field:"LIGHTNING_GRPC_PROTOCOL"},host:{title:"CLN Host",field:"DEVICE_DOMAIN_NAME"},port:{title:"GRPC Port",field:"LIGHTNING_GRPC_PORT"},clientKey:{title:"Client Key",field:"CLIENT_KEY"},clientCert:{title:"Client Cert",field:"CLIENT_CERT"},caCert:{title:"CA Cert",field:"CA_CERT"},connectUrl:{title:"gRPC URL",field:""}}),$("cln-grpc://"+K.walletConnect.LIGHTNING_GRPC_PROTOCOL+"://"+K.walletConnect.DEVICE_DOMAIN_NAME+":"+K.walletConnect.LIGHTNING_GRPC_PORT+("https"===(null===(a=K.walletConnect.LIGHTNING_GRPC_PROTOCOL)||void 0===a?void 0:a.toLowerCase())?"?clientKey="+K.walletConnect.CLIENT_KEY+"&clientCert="+K.walletConnect.CLIENT_CERT+"&caCert="+K.walletConnect.CA_CERT:""));break;case"gRPC (Tor)":Q({protocol:{title:"gRPC Protocol",field:"LIGHTNING_GRPC_PROTOCOL"},host:{title:"CLN Host",field:"TOR_SERVICE"},port:{title:"GRPC Port",field:"LIGHTNING_GRPC_PORT"},clientKey:{title:"Client Key",field:"CLIENT_KEY"},clientCert:{title:"Client Cert",field:"CLIENT_CERT"},caCert:{title:"CA Cert",field:"CA_CERT"},connectUrl:{title:"gRPC URL",field:""}}),$("cln-grpc://"+K.walletConnect.LIGHTNING_GRPC_PROTOCOL+"://"+K.walletConnect.TOR_SERVICE+":"+K.walletConnect.LIGHTNING_GRPC_PORT+("https"===(null===(n=K.walletConnect.LIGHTNING_GRPC_PROTOCOL)||void 0===n?void 0:n.toLowerCase())?"?clientKey="+K.walletConnect.CLIENT_KEY+"&clientCert="+K.walletConnect.CLIENT_CERT+"&caCert="+K.walletConnect.CA_CERT:""))}};let le,ie;return"LN Message"!==Y&&"LN Message (Tor)"!==Y||(K.walletConnect.INVOICE_RUNE&&""!==K.walletConnect.INVOICE_RUNE?(le=se,ie=f.G):(le=ae,ie=y)),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(N.A,{show:K.showModals.connectWalletModal,onHide:ne,centered:!0,className:"modal-lg","data-testid":"connect-wallet",children:[(0,A.jsx)(N.A.Header,{className:"d-flex align-items-start justify-content-end pb-0",children:(0,A.jsx)("span",{className:"span-close-svg",onClick:ne,children:(0,A.jsx)(w.P,{})})}),(0,A.jsxs)(N.A.Body,{className:"py-0 px-4",children:[(0,A.jsxs)(x.A,{className:"qr-container m-auto d-flex",children:[(0,A.jsx)(m.N,{children:(0,A.jsx)(C.P.img,{alt:"Core Lightning Logo",src:K.appConfig.uiConfig.appMode===c.Jr.DARK?"/images/cln-logo-dark.png":"/images/cln-logo-light.png",className:"qr-cln-logo",initial:{opacity:0},animate:{opacity:1},transition:{delay:.05,duration:.01}},"cln-logo")}),(0,A.jsx)(u.Xe,{value:X,size:220,includeMargin:!0,bgColor:K.appConfig.uiConfig.appMode===c.Jr.DARK?"#0C0C0F":"#FFFFFF",fgColor:K.appConfig.uiConfig.appMode===c.Jr.DARK?"#FFFFFF":"#000000"})]}),(0,A.jsx)(x.A,{className:"d-flex align-items-start justify-content-center pt-2",children:(0,A.jsx)("h4",{className:"w-100 text-blue fw-semibold d-flex justify-content-center text-center",children:"Connect wallet to your node"})}),(0,A.jsxs)(x.A,{className:"d-flex align-items-start justify-content-center",children:[(0,A.jsxs)(T.A,{xs:Y.includes("LN Message")?12:6,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:"Network"}),(0,A.jsxs)(I.A,{className:"dropdown-network mt-1 mb-3",children:[(0,A.jsx)(I.A.Toggle,{variant:"secondary",id:"network",className:"w-100 d-flex align-items-center justify-content-between","data-testid":"network-toggle",children:Y}),(0,A.jsx)(I.A.Menu,{"data-testid":"network-menu",children:W.map((e=>(0,A.jsx)(I.A.Item,{"data-testid":"network-item",as:"div",id:e,onClick:oe,children:e},e)))})]})]}),!Y.includes("LN Message")&&q.protocol?(0,A.jsxs)(T.A,{xs:6,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:q.protocol.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:se,id:q.protocol.title,value:K.walletConnect[q.protocol.field],"aria-label":K.walletConnect[q.protocol.field],"aria-describedby":"copy-addon-port",className:"form-control-left","data-testid":"port",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:q.port.title,className:"form-control-addon form-control-addon-right",onClick:se,children:(0,A.jsx)(f.G,{id:q.port.title})})]})]}):(0,A.jsx)(T.A,{xs:6})]}),(0,A.jsxs)(x.A,{className:"d-flex align-items-start justify-content-center",children:[(0,A.jsxs)(T.A,{xs:6,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:q.host.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:se,id:q.host.title,value:K.walletConnect[q.host.field],"aria-label":K.walletConnect[q.host.field],"aria-describedby":"copy-addon-host",className:"form-control-left","data-testid":"host",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:q.host.title,className:"form-control-addon form-control-addon-right",onClick:se,children:(0,A.jsx)(f.G,{id:q.host.title})})]})]}),(0,A.jsxs)(T.A,{xs:6,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:q.port.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:se,id:q.port.title,value:K.walletConnect[q.port.field],"aria-label":K.walletConnect[q.port.field],"aria-describedby":"copy-addon-port",className:"form-control-left","data-testid":"port",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:q.port.title,className:"form-control-addon form-control-addon-right",onClick:se,children:(0,A.jsx)(f.G,{id:q.port.title})})]})]})]}),"LN Message"!==Y&&"LN Message (Tor)"!==Y||!q.rune?(0,A.jsx)(A.Fragment,{}):(0,A.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:q.rune.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:se,id:q.rune.title,value:K.walletConnect[q.rune.field],"aria-label":K.walletConnect[q.rune.field],"aria-describedby":"copy-addon-rune",className:"form-control-left","data-testid":"rune",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:q.rune.title,className:"form-control-addon form-control-addon-right",onClick:se,children:(0,A.jsx)(f.G,{id:q.rune.title})})]})]})}),("LN Message"===Y||"LN Message (Tor)"===Y)&&(0,A.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:null===(e=q.invoiceRune)||void 0===e?void 0:e.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:le,id:null===(t=q.invoiceRune)||void 0===t?void 0:t.title,value:K.walletConnect.INVOICE_RUNE,placeholder:"Not Found","aria-label":K.walletConnect.INVOICE_RUNE,disabled:ee,"aria-describedby":"copy-addon-rune",className:"form-control-left","data-testid":"invoice-rune",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:null===(s=q.invoiceRune)||void 0===s?void 0:s.title,className:"form-control-addon form-control-addon-right",onClick:ee?void 0:le,"data-testid":"invoice-rune-button",children:ee?(0,A.jsx)("span",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,A.jsx)(b.A,{className:"me-1",variant:"light",size:"sm","data-testid":"invoice-rune-spinner"})}):ie&&(0,A.jsx)(ie,{id:null===(n=q.invoiceRune)||void 0===n?void 0:n.title,showTooltip:""===K.walletConnect.INVOICE_RUNE,tooltipText:"Create New Invoice Rune"})})]})]})}),Y.includes("REST")&&"https"===(null===(o=K.walletConnect.LIGHTNING_REST_PROTOCOL)||void 0===o?void 0:o.toLowerCase())||Y.includes("gRPC")&&"https"===(null===(i=K.walletConnect.LIGHTNING_GRPC_PROTOCOL)||void 0===i?void 0:i.toLowerCase())?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:null===(d=q.clientKey)||void 0===d?void 0:d.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:se,id:null===(h=q.clientKey)||void 0===h?void 0:h.title,value:K.walletConnect.CLIENT_KEY,"aria-label":K.walletConnect.CLIENT_KEY,"aria-describedby":"copy-addon-host",className:"form-control-left","data-testid":"client-key",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:null===(R=q.clientKey)||void 0===R?void 0:R.title,className:"form-control-addon form-control-addon-right",onClick:se,children:(0,A.jsx)(f.G,{id:null===(E=q.clientKey)||void 0===E?void 0:E.title})})]})]})}),(0,A.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:null===(L=q.clientCert)||void 0===L?void 0:L.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:se,id:null===(O=q.clientCert)||void 0===O?void 0:O.title,value:K.walletConnect.CLIENT_CERT,"aria-label":K.walletConnect.CLIENT_CERT,"aria-describedby":"copy-addon-host",className:"form-control-left","data-testid":"client-cert",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:null===(_=q.clientCert)||void 0===_?void 0:_.title,className:"form-control-addon form-control-addon-right",onClick:se,children:(0,A.jsx)(f.G,{id:null===(P=q.clientCert)||void 0===P?void 0:P.title})})]})]})})]}):(0,A.jsx)(A.Fragment,{}),"REST"===Y&&"https"===(null===(S=K.walletConnect.LIGHTNING_REST_PROTOCOL)||void 0===S?void 0:S.toLowerCase())||"gRPC"===Y&&"https"===(null===(M=K.walletConnect.LIGHTNING_GRPC_PROTOCOL)||void 0===M?void 0:M.toLowerCase())?(0,A.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:null===(k=q.caCert)||void 0===k?void 0:k.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:se,id:null===(G=q.caCert)||void 0===G?void 0:G.title,value:K.walletConnect.CA_CERT,"aria-label":K.walletConnect.CA_CERT,"aria-describedby":"copy-addon-host",className:"form-control-left","data-testid":"ca-cert",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:null===(H=q.caCert)||void 0===H?void 0:H.title,className:"form-control-addon form-control-addon-right",onClick:se,children:(0,A.jsx)(f.G,{id:null===(F=q.caCert)||void 0===F?void 0:F.title})})]})]})}):(0,A.jsx)(A.Fragment,{}),(0,A.jsx)(x.A,{className:"mb-4 d-flex align-items-start justify-content-center",children:(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:"text-light",children:null===(V=q.connectUrl)||void 0===V?void 0:V.title}),(0,A.jsxs)(g.A,{className:"mb-3",children:[(0,A.jsx)(p.A.Control,{onClick:se,id:null===(D=q.connectUrl)||void 0===D?void 0:D.title,value:X||"","aria-label":X||"","aria-describedby":"copy-addon-rune",className:"form-control-left","data-testid":"connect-url",readOnly:!0}),(0,A.jsx)(g.A.Text,{id:null===(U=q.connectUrl)||void 0===U?void 0:U.title,className:"form-control-addon form-control-addon-right",onClick:se,children:(0,A.jsx)(f.G,{id:null===(J=q.connectUrl)||void 0===J?void 0:J.title})})]})]})})]})]})})};var _=s(5373),P=s.n(_),S=s(6205),M=s(9082),k=s(791);const G=e=>(0,A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 0 512 512",fill:"none",className:e.className,children:(0,A.jsx)("path",{className:"fill-body-color",d:"M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"})});var H=s(7159);const F=e=>(0,A.jsx)("svg",{className:e.className,height:"16",viewBox:"0 0 576 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,A.jsx)("path",{className:"fill-body-color",d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"})}),V=e=>(0,A.jsx)("svg",{className:e.className,height:"16",viewBox:"0 0 640 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,A.jsx)("path",{className:"fill-body-color",d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"})}),D=()=>{const e=(0,a.useContext)(r.o),{userLogin:t,initiateDataLoading:s}=(0,l.A)(),[n,o]=(0,a.useState)(!0),[i,d]=(0,a.useState)(c.JT.NONE),[h,m]=(0,a.useState)(""),{value:C,isValid:u,hasError:f,valueChangeHandler:w,inputBlurHandler:v,reset:R}=(0,S.A)((e=>""!==e.trim()));let I=!1;u&&(I=!0);return(0,A.jsx)("form",{className:"h-100",children:(0,A.jsxs)(N.A,{show:e.showModals.loginModal,centered:!0,className:"modal-lg","data-testid":"login-modal",children:[(0,A.jsx)(N.A.Header,{className:"d-flex align-items-start justify-content-start pb-0"}),(0,A.jsxs)(N.A.Body,{className:"py-0",children:[(0,A.jsx)(x.A,{className:"d-flex align-items-start justify-content-center",children:(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:" text-dark",children:"Password*"}),(0,A.jsxs)(g.A,{className:f?"invalid ":"",children:[(0,A.jsx)(g.A.Text,{className:"form-control-addon form-control-addon-left",children:(0,A.jsx)(G,{})}),(0,A.jsx)(p.A.Control,{tabIndex:1,autoFocus:!0,id:"password",type:n?"password":"text",placeholder:"Password","aria-label":"password","aria-describedby":"addon-password",className:n&&""!==C?"form-control-middle password-input-ctrl":"form-control-middle",value:C,onChange:w,onBlur:v}),(0,A.jsx)(g.A.Text,{className:"form-control-addon form-control-addon-right",children:(0,A.jsx)("span",{onClick:()=>{o(!n)},children:n?(0,A.jsx)(F,{}):(0,A.jsx)(V,{})})})]}),f?(0,A.jsx)(k.A,{message:"Invalid Password"}):(0,A.jsx)("div",{className:"message"})]})}),(0,A.jsx)(H.A,{responseStatus:i,responseMessage:h})]}),(0,A.jsx)(N.A.Footer,{children:(0,A.jsxs)("button",{tabIndex:2,type:"button",className:"btn-rounded bg-primary",onClick:a=>{v(null),I&&(d(c.JT.PENDING),m("Logging In..."),t(P()(C).toString()).then((t=>{j.A.info(t),t?(o(!0),d(c.JT.NONE),m(""),R(),s(),e.setShowModals({...e.showModals,loginModal:!1})):(d(c.JT.ERROR),m(t.response.data||t.message||"Unknown Error"))})).catch((e=>{var t,s;j.A.error((null===(t=e.response)||void 0===t?void 0:t.data)||e.message||JSON.stringify(e)),d(c.JT.ERROR),m(e.response&&e.response.data&&e.response.data.error?e.response.data.error:(null===(s=e.response)||void 0===s?void 0:s.data)||e.message||JSON.stringify(e))})))},disabled:i===c.JT.PENDING,children:["Login",i===c.JT.PENDING?(0,A.jsx)(b.A,{className:"mt-1 ms-2 text-white-dark",size:"sm"}):(0,A.jsx)(M.P,{className:"ms-3"})]})})]})})};var U=s(5451);const J=()=>{const e=(0,a.useContext)(r.o),{userLogout:t}=(0,l.A)(),s=e=>{!0===e&&t(),n()},n=()=>{e.setShowModals({...e.showModals,logoutModal:!1})};return(0,A.jsx)("form",{className:"h-100",children:(0,A.jsx)(N.A,{show:e.showModals.logoutModal,onHide:n,centered:!0,className:"modal-lg","data-testid":"logout-modal",children:(0,A.jsx)(N.A.Body,{className:"p-0 w-100 d-flex align-items-start justify-content-start",children:(0,A.jsxs)(T.A,{className:"d-flex align-items-stretch justify-content-between modal-box",children:[(0,A.jsx)(T.A,{xs:2,className:"message-type-box d-flex align-items-center justify-content-center",children:(0,A.jsx)(U.i,{})}),(0,A.jsx)(T.A,{xs:10,className:"p-3",children:(0,A.jsxs)(T.A,{className:"d-flex align-items-center justify-content-between",children:[(0,A.jsx)(T.A,{xs:7,className:"ps-1",children:"Logout?"}),(0,A.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>s(!0),children:"Yes"}),(0,A.jsx)("button",{type:"button",className:"btn btn-rounded btn-sm btn-secondary",onClick:()=>s(!1),children:"No"})]})})]})})})})},K=()=>{const e=(0,a.useContext)(r.o),{resetUserPassword:t,initiateDataLoading:s}=(0,l.A)(),[n,o]=(0,a.useState)(!0),[i,d]=(0,a.useState)(!0),[h,m]=(0,a.useState)(!0),[C,u]=(0,a.useState)(c.JT.NONE),[f,v]=(0,a.useState)(""),{value:R,isValid:I,hasError:E,valueChangeHandler:L,inputBlurHandler:y,reset:O}=(0,S.A)((e=>""!==e.trim())),{value:_,isValid:D,hasError:U,valueChangeHandler:J,inputBlurHandler:K,reset:B}=(0,S.A)((e=>""!==e.trim())),{value:W,isValid:z,hasError:Y,valueChangeHandler:Z,inputBlurHandler:X,reset:$}=(0,S.A)((e=>""!==e.trim()&&e===_));let q=!1;(e.authStatus.isValidPassword&&I&&D&&z||!e.authStatus.isValidPassword&&D&&z)&&(q=!0);const Q=()=>{e.setShowModals({...e.showModals,setPasswordModal:!1})};return(0,A.jsx)("form",{className:"h-100",children:(0,A.jsxs)(N.A,{show:e.showModals.setPasswordModal,onHide:e.authStatus.isValidPassword?Q:()=>{},centered:!0,className:"modal-lg","data-testid":"set-password-modal",children:[(0,A.jsx)(N.A.Header,{className:"d-flex align-items-start justify-content-end pb-0",children:e.authStatus.isValidPassword?(0,A.jsx)("span",{className:"span-close-svg",onClick:Q,children:(0,A.jsx)(w.P,{})}):(0,A.jsx)(A.Fragment,{})}),(0,A.jsxs)(N.A.Body,{className:"py-0",children:[(0,A.jsxs)(x.A,{className:"d-flex align-items-start justify-content-center",children:[e.authStatus.isValidPassword?(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:" text-dark",children:"Current Password*"}),(0,A.jsxs)(g.A,{className:E?"invalid ":"",children:[(0,A.jsx)(g.A.Text,{className:"form-control-addon form-control-addon-left",children:(0,A.jsx)(G,{})}),(0,A.jsx)(p.A.Control,{tabIndex:1,autoFocus:!0,id:"currpassword",type:n?"password":"text",placeholder:"Current Password","aria-label":"curr-password","aria-describedby":"addon-curr-password",className:n&&""!==R?"form-control-middle password-input-ctrl":"form-control-middle",value:R,onChange:L,onBlur:y}),(0,A.jsx)(g.A.Text,{className:"form-control-addon form-control-addon-right",children:(0,A.jsx)("span",{onClick:()=>{o(!n)},children:n?(0,A.jsx)(F,{}):(0,A.jsx)(V,{})})})]}),E?(0,A.jsx)(k.A,{message:"Invalid Current Password"}):(0,A.jsx)("div",{className:"message"})]}):(0,A.jsx)(A.Fragment,{}),(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:" text-dark",children:"New Password*"}),(0,A.jsxs)(g.A,{className:U?"invalid ":"",children:[(0,A.jsx)(g.A.Text,{className:"form-control-addon form-control-addon-left",children:(0,A.jsx)(G,{})}),(0,A.jsx)(p.A.Control,{tabIndex:1,autoFocus:!e.authStatus.isValidPassword,id:"newpassword",type:i?"password":"text",placeholder:"New Password","aria-label":"new-password","aria-describedby":"addon-new-password",className:i&&""!==_?"form-control-middle password-input-ctrl":"form-control-middle",value:_,onChange:J,onBlur:K}),(0,A.jsx)(g.A.Text,{className:"form-control-addon form-control-addon-right",children:(0,A.jsx)("span",{onClick:()=>{d(!i)},children:i?(0,A.jsx)(F,{}):(0,A.jsx)(V,{})})})]}),U?(0,A.jsx)(k.A,{message:"Invalid New Password"}):(0,A.jsx)("div",{className:"message"})]}),(0,A.jsxs)(T.A,{xs:12,children:[(0,A.jsx)(p.A.Label,{className:" text-dark",children:"Confirm New Password*"}),(0,A.jsxs)(g.A,{className:Y?"invalid ":"",children:[(0,A.jsx)(g.A.Text,{className:"form-control-addon form-control-addon-left",children:(0,A.jsx)(G,{})}),(0,A.jsx)(p.A.Control,{tabIndex:2,id:"confirmnewpassword",type:h?"password":"text",placeholder:"Confirm New Password","aria-label":"confirm-new-password","aria-describedby":"addon-confirm-new-password",className:h&&""!==W?"form-control-middle password-input-ctrl":"form-control-middle",value:W,onChange:Z,onBlur:X}),(0,A.jsx)(g.A.Text,{className:"form-control-addon form-control-addon-right",children:(0,A.jsx)("span",{onClick:()=>{m(!h)},children:h?(0,A.jsx)(F,{}):(0,A.jsx)(V,{})})})]}),Y?(0,A.jsx)(k.A,{message:W!==_?"New and Confirm New Password Do Not Match":"Invalid Confirm New Password"}):(0,A.jsx)("div",{className:"message"})]})]}),(0,A.jsx)(H.A,{responseStatus:C,responseMessage:f})]}),(0,A.jsx)(N.A.Footer,{children:(0,A.jsxs)("button",{tabIndex:3,type:"button",className:"btn-rounded bg-primary",onClick:a=>{y(null),K(null),X(null),q&&(u(c.JT.PENDING),v("Resetting Password..."),t(e.authStatus.isValidPassword,e.authStatus.isValidPassword?P()(R).toString():"",P()(_).toString()).then((t=>{j.A.info(t),t?(o(!0),d(!0),m(!0),u(c.JT.NONE),v(""),O(),B(),$(),s(),e.setShowModals({...e.showModals,setPasswordModal:!1})):(u(c.JT.ERROR),v(t.response.data||t.message||"Unknown Error"))})).catch((e=>{var t,s;j.A.error((null===(t=e.response)||void 0===t?void 0:t.data)||e.message||JSON.stringify(e)),u(c.JT.ERROR),v(e.response&&e.response.data&&e.response.data.error?e.response.data.error:(null===(s=e.response)||void 0===s?void 0:s.data)||e.message||JSON.stringify(e))})))},disabled:C===c.JT.PENDING,children:[e.authStatus.isValidPassword?"Reset Password":"Set Password",C===c.JT.PENDING?(0,A.jsx)(b.A,{className:"mt-1 ms-2 text-white-dark",size:"sm"}):(0,A.jsx)(M.P,{className:"ms-3"})]})})]})})};var B=s(7543);const W=function(){var e;const t=(0,a.useContext)(r.o),s=(0,a.useContext)(d.D),m=(0,i.A)(),{setCSRFToken:C,getAppConfigurations:u,getAuthStatus:N,initiateDataLoading:x}=(0,l.A)(),g=document.getElementsByTagName("body")[0],p=g.attributes,f=document.createAttribute("data-bs-theme");f.value=(null===(e=t.appConfig.uiConfig.appMode)||void 0===e?void 0:e.toLowerCase())||"dark",g.style.backgroundColor=t.appConfig.uiConfig.appMode===c.Jr.LIGHT?"#EBEFF9":"#0C0C0F";const w=document.createAttribute("data-screensize");return w.value=m,p.setNamedItem(f),p.setNamedItem(w),(0,a.useEffect)((()=>{Promise.all([C(),u()]).then((e=>{let[a,n]=e;a?N().then((e=>{e.isAuthenticated?e.isValidPassword?x():(j.A.error(e),s.setNodeInfo({isLoading:!1,error:JSON.stringify(e)})):e.isValidPassword?t.setShowModals({...t.showModals,loginModal:!0}):t.setShowModals({...t.showModals,setPasswordModal:!0})})):(j.A.error(a),s.setNodeInfo({isLoading:!1,error:"object"===typeof a?JSON.stringify(a):a}))})).catch((e=>{j.A.error(e),e.response&&e.response.data?s.setNodeInfo({isLoading:!1,error:e.response.data}):!e.response&&e.message?s.setNodeInfo({isLoading:!1,error:e.message}):s.setNodeInfo({isLoading:!1,error:JSON.stringify(e)})}))}),[]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.A,{className:t.authStatus.isAuthenticated?"py-4":"py-4 blurred-container",id:"root-container","data-testid":"container",children:t.authStatus.isAuthenticated?(0,A.jsx)(n.sv,{}):(0,A.jsx)(B.s,{})}),(0,A.jsx)(h.A,{}),(0,A.jsx)(R,{}),(0,A.jsx)(O,{}),(0,A.jsx)(D,{}),(0,A.jsx)(J,{}),(0,A.jsx)(K,{})]})}},9082:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});s(2176);var a=s(812);const n=e=>(0,a.jsx)("svg",{className:e.className,width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M0.5 5.83333L12.3083 5.83333L9.325 8.825L10.5 10L15.5 5L10.5 -4.37114e-07L9.325 1.175L12.3083 4.16667L0.500001 4.16667L0.5 5.83333Z",className:"fill-strong-contrast"})})},9735:(e,t,s)=>{"use strict";s.d(t,{G:()=>l});s(2176);var a=s(2189),n=s(1416),o=s(812);const l=e=>(0,o.jsx)(a.A,{placement:"auto",delay:{show:250,hide:250},overlay:e.showTooltip?(0,o.jsx)(n.A,{children:"Copy "+(e.id||"")}):(0,o.jsx)(o.Fragment,{}),children:(0,o.jsxs)("svg",{id:e.id,className:e.className,width:"22",height:"20",viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{id:e.id,className:"stroke-light",d:"M15.3164 6.4375H17.3789C17.7931 6.4375 18.1289 6.77329 18.1289 7.1875V17.6875C18.1289 18.1017 17.7931 18.4375 17.3789 18.4375H6.87891C6.46469 18.4375 6.12891 18.1017 6.12891 17.6875V15.625",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{id:e.id,className:"stroke-light",d:"M1.25391 2.3125C1.25391 1.89828 1.5897 1.5625 2.00391 1.5625H12.5039C12.9181 1.5625 13.2539 1.89829 13.2539 2.3125V12.8125C13.2539 13.2267 12.9181 13.5625 12.5039 13.5625H2.00391C1.58969 13.5625 1.25391 13.2267 1.25391 12.8125V2.3125Z",strokeWidth:"1.3",strokeLinejoin:"round"})]})})}}]);
//# sourceMappingURL=948.976b9e2a.chunk.js.map